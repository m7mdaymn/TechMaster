import{a as j}from"./chunk-QE2MCLLX.js";import{a as R}from"./chunk-G35OTEPF.js";import{a as z}from"./chunk-QFQZ7TF5.js";import"./chunk-XAZLOLJU.js";import{a as A}from"./chunk-UYI4POZX.js";import"./chunk-JLLNXAHD.js";import{d as U}from"./chunk-SAC5YDHM.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as w,Ab as n,Bb as l,Cb as b,Ja as S,Jb as I,Lb as _,Mb as h,Na as o,Ob as v,W as m,Wa as f,Y as P,cb as p,eb as g,fb as k,ga as M,gb as E,ha as O,ic as L,jb as y,kb as D,lb as e,mb as i,mc as T,nb as x,qb as F,sb as d,tb as C}from"./chunk-Q5RFH5SI.js";var $=(a,c)=>c.id,V=a=>["/instructor/courses",a,"edit"],B=a=>["/instructor/analytics",a],Y=a=>["/courses",a];function N(a,c){a&1&&(e(0,"div",10),x(1,"div",13),e(2,"p"),n(3,"Loading..."),i()())}function q(a,c){a&1&&(e(0,"div",11)(1,"div",14),n(2,"\u{1F4DA}"),i(),e(3,"h3"),n(4,"No Courses Yet"),i(),e(5,"p"),n(6,"Create your first course and start teaching"),i(),e(7,"a",15),n(8," Create Your First Course "),i()())}function G(a,c){if(a&1){let t=F();e(0,"tr")(1,"td",16)(2,"div",17),x(3,"img",18),e(4,"div",19)(5,"h4"),n(6),i(),e(7,"span",20),n(8),h(9,"date"),i()()()(),e(10,"td")(11,"span",21),n(12),i()(),e(13,"td")(14,"span",22),n(15),i()(),e(16,"td")(17,"div",23)(18,"span",24),n(19,"\u2B50"),i(),e(20,"span"),n(21),i()()(),e(22,"td")(23,"span",25),n(24),i()(),e(25,"td")(26,"span",26),n(27),h(28,"date"),i()(),e(29,"td")(30,"div",27)(31,"a",28),n(32," \u270F\uFE0F "),i(),e(33,"a",29),n(34," \u{1F4CA} "),i(),e(35,"a",30),n(36," \u{1F441}\uFE0F "),i(),e(37,"button",31),d("click",function(){let r=M(t).$implicit,u=C(2);return O(u.deleteCourse(r))}),n(38," \u{1F5D1}\uFE0F "),i()()()()}if(a&2){let t=c.$implicit,s=C(2);o(3),p("src",s.mediaService.getCourseThumbnail(t.thumbnail),S)("alt",t.title),o(3),l(t.title),o(2),b("Created: ",v(9,14,t.createdDate,"mediumDate"),""),o(3),k(t.status.toLowerCase()),o(),b(" ",s.getStatusLabel(t.status)," "),o(3),l(t.enrollments),o(6),l(t.rating.toFixed(1)),o(3),b("$",t.revenue.toLocaleString(),""),o(3),l(v(28,17,t.lastUpdated,"mediumDate")),o(4),p("routerLink",_(20,V,t.id)),o(2),p("routerLink",_(22,B,t.id)),o(2),p("routerLink",_(24,Y,t.slug))}}function H(a,c){if(a&1&&(e(0,"div",12)(1,"table")(2,"thead")(3,"tr")(4,"th"),n(5,"Course"),i(),e(6,"th"),n(7,"Status"),i(),e(8,"th"),n(9,"Enrollments"),i(),e(10,"th"),n(11,"Rating"),i(),e(12,"th"),n(13,"Revenue"),i(),e(14,"th"),n(15,"Last Updated"),i(),e(16,"th"),n(17,"Actions"),i()()(),e(18,"tbody"),y(19,G,39,26,"tr",null,$),i()()()),a&2){let t=C();o(19),D(t.filteredCourses())}}var re=(()=>{class a{courseService=m(R);dashboardService=m(j);toastr=m(z);mediaService=m(A);loading=f(!0);courses=f([]);activeFilter=f("all");ngOnInit(){this.loadCourses()}loadCourses(){this.loading.set(!0),this.dashboardService.getInstructorCourses().subscribe({next:t=>{let s=(t||[]).map(r=>({id:r.id,title:r.nameEn||r.title||"Untitled Course",slug:r.slug,thumbnail:r.thumbnailUrl||"assets/images/courses/default.jpg",status:r.status||"Draft",enrollments:r.enrollmentCount||0,rating:r.averageRating||0,revenue:r.revenue||0,createdDate:new Date(r.createdAt),lastUpdated:new Date(r.publishedAt||r.createdAt)}));this.courses.set(s),this.loading.set(!1)},error:()=>{this.toastr.error("Failed to load courses"),this.loading.set(!1)}})}filteredCourses(){let t=this.activeFilter();return t==="all"?this.courses():t==="published"?this.courses().filter(s=>s.status==="Published"):t==="draft"?this.courses().filter(s=>s.status==="Draft"):this.courses().filter(s=>s.status==="UnderReview")}publishedCount(){return this.courses().filter(t=>t.status==="Published").length}draftCount(){return this.courses().filter(t=>t.status==="Draft").length}reviewCount(){return this.courses().filter(t=>t.status==="UnderReview").length}getStatusLabel(t){return{Published:"Published",Draft:"Draft",UnderReview:"Under Review"}[t]||t}deleteCourse(t){confirm(`Are you sure you want to delete "${t.title}"?`)&&this.courseService.deleteCourse(t.id).subscribe({next:s=>{s?(this.toastr.success("Course deleted"),this.loadCourses()):this.toastr.error("Failed to delete course")}})}static \u0275fac=function(s){return new(s||a)};static \u0275cmp=P({type:a,selectors:[["app-instructor-courses"]],standalone:!0,features:[I],decls:33,vars:13,consts:[[1,"instructor-courses-page"],[1,"page-header"],[1,"header-content"],[1,"header-actions"],["routerLink","/instructor/courses/create",1,"create-btn"],[1,"icon"],[1,"filters-section"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"count"],[1,"loading-state"],[1,"empty-state"],[1,"courses-table"],[1,"spinner"],[1,"empty-icon"],["routerLink","/instructor/courses/create",1,"cta-btn"],[1,"course-cell"],[1,"course-info"],[3,"src","alt"],[1,"course-text"],[1,"course-date"],[1,"status-badge"],[1,"stat-value"],[1,"rating-cell"],[1,"star"],[1,"revenue-value"],[1,"date-value"],[1,"actions-cell"],["title","Edit",1,"action-btn","edit",3,"routerLink"],["title","Analytics",1,"action-btn","analytics",3,"routerLink"],["title","View","target","_blank",1,"action-btn","view",3,"routerLink"],["title","Delete",1,"action-btn","delete",3,"click"]],template:function(s,r){s&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n(4,"My Courses"),i(),e(5,"p"),n(6,"Manage and create your courses"),i()(),e(7,"div",3)(8,"a",4)(9,"span",5),n(10,"\u2795"),i(),n(11," Create Course "),i()()(),e(12,"div",6)(13,"div",7)(14,"button",8),d("click",function(){return r.activeFilter.set("all")}),n(15," All "),e(16,"span",9),n(17),i()(),e(18,"button",8),d("click",function(){return r.activeFilter.set("published")}),n(19," Published "),e(20,"span",9),n(21),i()(),e(22,"button",8),d("click",function(){return r.activeFilter.set("draft")}),n(23," Draft "),e(24,"span",9),n(25),i()(),e(26,"button",8),d("click",function(){return r.activeFilter.set("review")}),n(27," Under Review "),e(28,"span",9),n(29),i()()()(),w(30,N,4,0,"div",10)(31,q,9,0,"div",11)(32,H,21,0,"div",12),i()),s&2&&(o(14),g("active",r.activeFilter()==="all"),o(3),l(r.courses().length),o(),g("active",r.activeFilter()==="published"),o(3),l(r.publishedCount()),o(),g("active",r.activeFilter()==="draft"),o(3),l(r.draftCount()),o(),g("active",r.activeFilter()==="review"),o(3),l(r.reviewCount()),o(),E(r.loading()?30:r.filteredCourses().length===0?31:32))},dependencies:[T,L,U],styles:[".instructor-courses-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000;margin-bottom:.5rem}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.create-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border-radius:10px;text-decoration:none;font-weight:600;transition:all .3s ease}.create-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #2470904d}.filters-section[_ngcontent-%COMP%]{margin-bottom:2rem}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.filter-tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#f8f9fa;border:2px solid transparent;border-radius:10px;font-weight:500;color:#666;cursor:pointer;transition:all .3s ease}.filter-tab[_ngcontent-%COMP%]:hover{background:#f0f0f0}.filter-tab.active[_ngcontent-%COMP%]{background:#fff;border-color:#247090;color:#247090}.filter-tab[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#e0e0e0;padding:.125rem .5rem;border-radius:20px;font-size:.85rem}.filter-tab.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#247090;color:#fff}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid #f0f0f0;border-top-color:#247090;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#f8f9fa;border-radius:20px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.cta-btn[_ngcontent-%COMP%]{display:inline-block;padding:.875rem 2rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border-radius:10px;text-decoration:none;font-weight:600}.courses-table[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #00000014}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%]{text-align:left;padding:1rem 1.25rem;background:#f8f9fa;font-weight:600;color:#666;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px}td[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #f0f0f0;vertical-align:middle}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.course-cell[_ngcontent-%COMP%]{min-width:300px}.course-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.course-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:50px;object-fit:cover;border-radius:8px}.course-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#000;margin-bottom:.25rem}.course-date[_ngcontent-%COMP%]{font-size:.8rem;color:#999}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:.375rem .75rem;border-radius:20px;font-size:.8rem;font-weight:600}.status-badge.published[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.draft[_ngcontent-%COMP%]{background:#f8f9fa;color:#666}.status-badge.underreview[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.stat-value[_ngcontent-%COMP%]{font-weight:600;color:#000}.rating-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.revenue-value[_ngcontent-%COMP%]{font-weight:700;color:#28a745}.date-value[_ngcontent-%COMP%]{color:#666}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:.5rem}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:none;border-radius:6px;cursor:pointer;background:#f8f9fa;text-decoration:none;font-size:.9rem;transition:all .3s ease}.action-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#fee2e2}@media (max-width: 992px){.instructor-courses-page[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{flex-direction:column}.courses-table[_ngcontent-%COMP%]{overflow-x:auto}table[_ngcontent-%COMP%]{min-width:800px}}[dir=rtl][_nghost-%COMP%]   th[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   th[_ngcontent-%COMP%]{text-align:right}"]})}return a})();export{re as InstructorCoursesComponent};
