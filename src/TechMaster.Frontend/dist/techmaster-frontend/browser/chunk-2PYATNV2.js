import{a as re}from"./chunk-YRO355Y3.js";import{a as se}from"./chunk-WSIKJMH2.js";import{a as oe}from"./chunk-G35OTEPF.js";import{b as ee,d as te,g as ne,t as ie}from"./chunk-HRUO5R4Q.js";import{a as X}from"./chunk-QFQZ7TF5.js";import"./chunk-XAZLOLJU.js";import{a as Z}from"./chunk-UYI4POZX.js";import"./chunk-JLLNXAHD.js";import{a as J,c as K}from"./chunk-SAC5YDHM.js";import{d as G}from"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as v,Ab as s,Bb as P,Cb as D,Db as $,Fb as Q,Gb as B,Hb as N,Ia as U,Ja as I,Jb as Y,Ka as F,Kb as H,Na as a,W as w,Wa as M,Y as R,a as T,cb as k,db as q,eb as E,fb as A,ga as h,gb as C,ha as b,ib as j,jb as L,kb as V,lb as o,mb as r,mc as W,nb as y,qb as O,sb as x,tb as d}from"./chunk-Q5RFH5SI.js";var ae=(i,c)=>c.id,le=()=>[1,2,3,4,5];function ce(i,c){if(i&1&&y(0,"iframe",35),i&2){let e=d(3);k("src",e.getSafeVideoUrl(),F)}}function de(i,c){if(i&1&&(o(0,"video",36),s(1," Your browser does not support the video tag. "),r()),i&2){let e=d(3);k("src",e.getUploadedVideoUrl(),I)}}function me(i,c){i&1&&(o(0,"div",37)(1,"span",4),s(2,"\u{1F3AC}"),r(),o(3,"p"),s(4,"No video available for this session"),r()())}function ue(i,c){if(i&1&&(o(0,"div",22)(1,"div",34),v(2,ce,1,1,"iframe",35)(3,de,2,1,"video",36)(4,me,5,0,"div",37),r()()),i&2){let e,t=d(2);a(2),C(t.isExternalVideo()?2:(e=t.currentSession())!=null&&e.videoUrl?3:4)}}function pe(i,c){if(i&1&&y(0,"iframe",39),i&2){let e=d(3);k("src",e.getSafePdfUrl(),F)}}function ge(i,c){i&1&&(o(0,"div",40)(1,"span",4),s(2,"\u{1F4C4}"),r(),o(3,"p"),s(4,"No PDF available for this session"),r()())}function fe(i,c){if(i&1&&(o(0,"div",41)(1,"a",42)(2,"span",4),s(3,"\u2B07\uFE0F"),r(),s(4," Download PDF "),r()()),i&2){let e=d(3);a(),k("href",e.getPdfDownloadUrl(),I)}}function _e(i,c){if(i&1&&(o(0,"div",23)(1,"div",38),v(2,pe,1,1,"iframe",39)(3,ge,5,0,"div",40),r(),v(4,fe,5,1,"div",41),r()),i&2){let e,t,n=d(2);a(2),C((e=n.currentSession())!=null&&e.pdfUrl?2:3),a(2),C((t=n.currentSession())!=null&&t.pdfUrl?4:-1)}}function Ce(i,c){if(i&1&&(o(0,"div",24),y(1,"div",43),r()),i&2){let e,t=d(2);a(),k("innerHTML",(e=t.currentSession())==null?null:e.content,U)}}function xe(i,c){if(i&1){let e=O();o(0,"div",25)(1,"div",44)(2,"div",45),s(3,"\u{1F4DD}"),r(),o(4,"h2"),s(5),r(),o(6,"p"),s(7,"Test your knowledge with this quiz"),r(),o(8,"button",46),x("click",function(){h(e);let n=d(2);return b(n.startQuiz())}),s(9," Start Quiz "),r()()()}if(i&2){let e,t=d(2);a(5),P((e=t.currentSession())==null?null:e.title)}}function he(i,c){if(i&1&&(o(0,"div",26)(1,"div",47)(2,"div",48),s(3,"\u{1F4CB}"),r(),o(4,"h2"),s(5),r(),y(6,"div",49),r()()),i&2){let e,t,n=d(2);a(5),P((e=n.currentSession())==null?null:e.title),a(),k("innerHTML",(t=n.currentSession())==null?null:t.content,U)}}function be(i,c){if(i&1){let e=O();o(0,"button",50),x("click",function(){h(e);let n=d(2);return b(n.goToNextSession())}),s(1," Next Session "),o(2,"span",4),s(3,"\u2192"),r()()}}function ve(i,c){i&1&&(o(0,"div",33)(1,"h3"),s(2,"Resources"),r(),o(3,"div",51)(4,"a",52)(5,"span",53),s(6,"\u{1F4C4}"),r(),o(7,"span"),s(8,"Download Notes"),r()(),o(9,"a",52)(10,"span",53),s(11,"\u{1F4BB}"),r(),o(12,"span"),s(13,"Source Code"),r()()()())}function Me(i,c){if(i&1){let e=O();o(0,"div",15),v(1,ue,5,1,"div",22)(2,_e,5,2,"div",23)(3,Ce,2,1,"div",24)(4,xe,10,1,"div",25)(5,he,7,2,"div",26),o(6,"div",27)(7,"div",28)(8,"h2"),s(9),r(),o(10,"span",29),s(11),r()(),o(12,"div",30)(13,"button",31),x("click",function(){h(e);let n=d();return b(n.markComplete())}),o(14,"span",4),s(15,"\u2713"),r(),s(16),r(),v(17,be,4,0,"button",32),r(),v(18,ve,14,0,"div",33),r()()}if(i&2){let e,t,n,l,p,S,g,m=d();a(),C(m.isVideoType()?1:((e=m.currentSession())==null?null:e.type)==="PDF"?2:((e=m.currentSession())==null?null:e.type)==="Article"?3:((e=m.currentSession())==null?null:e.type)==="Quiz"?4:((e=m.currentSession())==null?null:e.type)==="Assignment"?5:-1),a(8),P((t=m.currentSession())==null?null:t.title),a(),A((n=m.currentSession())==null?null:n.type),a(),D(" ",(l=m.currentSession())==null?null:l.type," "),a(2),k("disabled",(p=m.currentSession())==null?null:p.isCompleted),a(3),D(" ",(S=m.currentSession())!=null&&S.isCompleted?"Completed":"Mark as Complete"," "),a(),C(m.hasNextSession()?17:-1),a(),C(m.isVideoType()||((g=m.currentSession())==null?null:g.type)==="Article"?18:-1)}}function Pe(i,c){i&1&&(o(0,"div",16)(1,"div",54),s(2,"\u{1F4DA}"),r(),o(3,"h2"),s(4,"Select a Session"),r(),o(5,"p"),s(6,"Choose a session from the sidebar to start learning"),r()())}function Oe(i,c){if(i&1){let e=O();o(0,"span",65),x("click",function(){let n=h(e).$implicit,l=d(3);return b(l.setRating(n))}),s(1,"\u2605"),r()}if(i&2){let e=c.$implicit,t=d(3);E("filled",e<=t.selectedRating())}}function Se(i,c){if(i&1){let e=O();o(0,"div",57)(1,"h3"),s(2,"Rate this course"),r(),o(3,"div",61),L(4,Oe,2,2,"span",62,j),r(),o(6,"textarea",63),N("ngModelChange",function(n){h(e);let l=d(2);return B(l.reviewComment,n)||(l.reviewComment=n),b(n)}),r(),o(7,"button",64),x("click",function(){h(e);let n=d(2);return b(n.submitRating())}),s(8),r()()}if(i&2){let e=d(2);a(4),V(H(3,le)),a(2),Q("ngModel",e.reviewComment),a(),k("disabled",e.selectedRating()===0||e.submittingRating()),a(),D(" ",e.submittingRating()?"Submitting...":"Submit Rating"," ")}}function we(i,c){i&1&&(o(0,"div",58)(1,"span",66),s(2,"\u2713"),r(),o(3,"p"),s(4,"Thank you for your feedback!"),r()())}function ke(i,c){if(i&1){let e=O();o(0,"button",67),x("click",function(){h(e);let n=d(2);return b(n.viewCertificate())}),o(1,"span",4),s(2,"\u{1F3C6}"),r(),s(3," View Certificate "),r(),o(4,"button",68),x("click",function(){h(e);let n=d(2);return b(n.downloadCertificate())}),o(5,"span",4),s(6,"\u{1F4E5}"),r(),s(7," Download Certificate "),r()}}function ye(i,c){if(i&1){let e=O();o(0,"div",17)(1,"div",55)(2,"div",56),s(3,"\u{1F389}"),r(),o(4,"h2"),s(5,"Congratulations!"),r(),o(6,"p"),s(7,"You have completed all sessions in this course"),r(),v(8,Se,9,4,"div",57)(9,we,5,0,"div",58),o(10,"div",59),v(11,ke,8,0),o(12,"button",60),x("click",function(){h(e);let n=d();return b(n.messageInstructor())}),o(13,"span",4),s(14,"\u{1F4AC}"),r(),s(15," Message Instructor "),r()()()()}if(i&2){let e=d();a(8),C(e.hasSubmittedRating()?9:8),a(3),C(e.hasCertificate()?11:-1)}}function Ee(i,c){i&1&&(o(0,"span",81),s(1,"\u2713"),r())}function De(i,c){i&1&&(o(0,"span",82),s(1,"\u{1F512}"),r())}function ze(i,c){i&1&&(o(0,"span"),s(1,"\u25B6"),r())}function Te(i,c){i&1&&(o(0,"span"),s(1,"\u{1F4C4}"),r())}function Le(i,c){i&1&&(o(0,"span"),s(1,"\u{1F4DD}"),r())}function Ve(i,c){if(i&1){let e=O();o(0,"div",79),x("click",function(){let n=h(e).$implicit,l=d(3);return b(l.selectSession(n))}),o(1,"div",80),v(2,Ee,2,0,"span",81)(3,De,2,0,"span",82)(4,ze,2,0,"span")(5,Te,2,0,"span")(6,Le,2,0,"span"),r(),o(7,"div",83)(8,"span",84),s(9),r(),o(10,"span",85),s(11),r()()()}if(i&2){let e,t=c.$implicit,n=d(3);E("active",((e=n.currentSession())==null?null:e.id)===t.id)("completed",t.isCompleted)("locked",!t.isUnlocked),a(2),C(t.isCompleted?2:t.isUnlocked?t.type==="Video"?4:t.type==="Article"?5:6:3),a(7),P(t.title),a(2),P(n.formatDuration(t.duration))}}function Ue(i,c){if(i&1&&(o(0,"div",77),L(1,Ve,12,9,"div",78,ae),r()),i&2){let e=d().$implicit;a(),V(e.sessions)}}function Ie(i,c){if(i&1){let e=O();o(0,"div",69)(1,"div",70),x("click",function(){let n=h(e).$implicit,l=d();return b(l.toggleModule(n))}),o(2,"div",71)(3,"span",72),s(4),r(),o(5,"span",73),s(6),r()(),o(7,"div",74)(8,"span",75),s(9),r(),o(10,"span",76),s(11),r()()(),v(12,Ue,3,0,"div",77),r()}if(i&2){let e=c.$implicit,t=d();E("expanded",e.isExpanded),a(4),P(e.order),a(2),P(e.title),a(3),$("",t.getCompletedCount(e),"/",e.sessions.length,""),a(2),P(e.isExpanded?"\u25BC":"\u25B6"),a(),C(e.isExpanded?12:-1)}}var Ke=(()=>{class i{route=w(J);router=w(K);progressService=w(re);courseService=w(oe);certificateService=w(se);toastr=w(X);sanitizer=w(G);mediaService=w(Z);courseData=M(null);currentSession=M(null);sidebarCollapsed=M(!1);loading=M(!0);selectedRating=M(0);submittingRating=M(!1);hasSubmittedRating=M(!1);hasCertificate=M(!1);certificateId=M(null);reviewComment="";instructorId=M(null);ngOnInit(){let e=this.route.snapshot.paramMap.get("courseId");e&&this.loadCourseData(e)}loadCourseData(e){this.loading.set(!0),this.courseService.getCourseWithContent(e).subscribe({next:t=>{if(t.isSuccess&&t.data){let n=t.data,l=(n.modules||[]).map((f,_)=>({id:f.id,title:f.nameEn||f.nameAr,order:f.sortOrder??_,isExpanded:_===0,sessions:(f.sessions||[]).map((u,Fe)=>({id:u.id,title:u.nameEn||u.nameAr,type:this.mapSessionType(u.type,u),duration:u.durationInMinutes||u.durationMinutes||0,isCompleted:u.isCompleted||!1,isUnlocked:u.isUnlocked??(_===0||u.isFree),videoUrl:u.videoUrl,pdfUrl:u.pdfUrl,content:u.content||u.descriptionEn||"",quizQuestions:u.quizQuestions||[]}))})),p=l.reduce((f,_)=>f+_.sessions.length,0),S=l.reduce((f,_)=>f+_.sessions.filter(u=>u.isCompleted).length,0),g=p>0?Math.round(S/p*100):0,m="";for(let f of l){let _=f.sessions.find(u=>u.isUnlocked&&!u.isCompleted);if(_){m=_.id;break}}!m&&l.length>0&&l[0].sessions.length>0&&(m=l[0].sessions[0].id);let z={courseId:e,courseTitle:n.nameEn||n.nameAr||"Course",progress:g,currentSessionId:m,modules:l};this.courseData.set(z),n.instructor?.id&&this.instructorId.set(n.instructor.id),this.checkExistingRating(e),this.checkForCertificate(e);for(let f of z.modules){let _=f.sessions.find(u=>u.id===m);if(_){this.currentSession.set(_);break}}}else this.toastr.error("Failed to load course content");this.loading.set(!1)},error:()=>{this.toastr.error("Failed to load course"),this.loading.set(!1)}})}mapSessionType(e,t){if(t?.pdfUrl)return"PDF";if(t?.quizQuestions&&t?.quizQuestions.length>0)return"Quiz";if(t?.content&&!t?.videoUrl&&e!==5)return"Article";if(typeof e=="number")switch(e){case 0:return"Video";case 1:return"Live";case 2:return"Recorded";case 3:return"Article";case 4:return"Quiz";case 5:return"Assignment";default:return"Video"}if(typeof e=="string"){let n=e.toLowerCase();if(n==="video")return"Video";if(n==="live")return"Live";if(n==="recorded")return"Recorded";if(n==="article")return"Article";if(n==="quiz")return"Quiz";if(n==="assignment")return"Assignment";if(n==="pdf")return"PDF"}return"Video"}toggleModule(e){e.isExpanded=!e.isExpanded}selectSession(e){if(!e.isUnlocked)return;this.currentSession.set(e);let t=this.courseData();t&&(t.currentSessionId=e.id,this.courseData.set(T({},t)))}getCompletedCount(e){return e.sessions.filter(t=>t.isCompleted).length}formatDuration(e){if(e<60)return`${e} min`;let t=Math.floor(e/60),n=e%60;return`${t}h ${n}m`}isExternalVideo(){let e=this.currentSession()?.videoUrl||"";return e.includes("youtube.com")||e.includes("youtu.be")||e.includes("vimeo.com")}getUploadedVideoUrl(){let e=this.currentSession()?.videoUrl||"";return this.mediaService.getVideoUrl(e)}getSafeVideoUrl(){let e=this.currentSession()?.videoUrl||"",t=e;return e.includes("youtube.com/watch")?t=`https://www.youtube.com/embed/${e.split("v=")[1]?.split("&")[0]}`:e.includes("youtu.be/")?t=`https://www.youtube.com/embed/${e.split("youtu.be/")[1]?.split("?")[0]}`:e.includes("vimeo.com/")&&(t=`https://player.vimeo.com/video/${e.split("vimeo.com/")[1]?.split("?")[0]}`),this.sanitizer.bypassSecurityTrustResourceUrl(t)}isVideoType(){let e=this.currentSession()?.type;return e==="Video"||e==="Live"||e==="Recorded"}getSafePdfUrl(){let e=this.currentSession()?.pdfUrl||"",t=this.mediaService.getMediaUrl(e);return this.sanitizer.bypassSecurityTrustResourceUrl(t)}getPdfDownloadUrl(){let e=this.currentSession()?.pdfUrl||"";return this.mediaService.getMediaUrl(e)}markComplete(){let e=this.currentSession(),t=this.courseData();if(!(!e||!t)){if(e.isCompleted){this.toastr.info("This session is already marked as complete");return}this.progressService.completeSession(e.id.toString()).subscribe({next:n=>{if(n.isSuccess){e.isCompleted=!0,this.currentSession.set(T({},e));let l=!1;for(let g of t.modules)for(let m of g.sessions){if(l&&!m.isUnlocked){m.isUnlocked=!0;break}m.id===e.id&&(l=!0)}let p=t.modules.reduce((g,m)=>g+m.sessions.length,0),S=t.modules.reduce((g,m)=>g+m.sessions.filter(z=>z.isCompleted).length,0);t.progress=Math.round(S/p*100),this.courseData.set(T({},t)),this.toastr.success("Session marked as complete")}else this.toastr.error("Failed to mark session as complete")},error:()=>{this.toastr.error("Failed to update progress")}})}}hasNextSession(){let e=this.currentSession(),t=this.courseData();if(!e||!t)return!1;let n=!1;for(let l of t.modules)for(let p of l.sessions){if(n&&p.isUnlocked)return!0;p.id===e.id&&(n=!0)}return!1}goToNextSession(){let e=this.currentSession(),t=this.courseData();if(!e||!t)return;let n=!1;for(let l of t.modules)for(let p of l.sessions){if(n&&p.isUnlocked){this.selectSession(p),l.isExpanded=!0;return}p.id===e.id&&(n=!0)}}startQuiz(){let e=this.currentSession(),t=this.courseData();e?(console.log("Starting quiz for session:",e.id,"courseId:",t?.courseId),this.router.navigate(["/student/quiz",e.id],{queryParams:{courseId:t?.courseId}})):this.toastr.error("Could not start quiz - session not found")}goBack(){this.router.navigate(["/student/my-courses"])}isCourseComplete(){return this.courseData()?.progress===100}setRating(e){this.selectedRating.set(e)}submitRating(){let e=this.courseData();!e||this.selectedRating()===0||(this.submittingRating.set(!0),this.courseService.submitCourseRating(e.courseId,{rating:this.selectedRating(),comment:this.reviewComment||void 0}).subscribe({next:t=>{t.isSuccess?(this.hasSubmittedRating.set(!0),this.toastr.success("Thank you for your feedback!"),this.checkForCertificate(e.courseId)):this.toastr.error(t.messageEn||"Failed to submit rating"),this.submittingRating.set(!1)},error:()=>{this.toastr.error("Failed to submit rating"),this.submittingRating.set(!1)}}))}checkExistingRating(e){this.courseService.getMyRating(e).subscribe({next:t=>{t.isSuccess&&t.data&&(this.hasSubmittedRating.set(!0),this.selectedRating.set(t.data.rating),this.reviewComment=t.data.comment||"")}})}checkForCertificate(e){this.certificateService.getMyCertificates().subscribe({next:t=>{let n=t.find(l=>l.courseId===e);n&&(this.hasCertificate.set(!0),this.certificateId.set(n.id))}})}viewCertificate(){let e=this.certificateId();e&&this.router.navigate(["/student/certificates",e])}downloadCertificate(){let e=this.certificateId();e&&this.certificateService.downloadCertificate(e).subscribe({next:t=>{if(t){let n=window.URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download=`certificate-${e}.pdf`,l.click(),window.URL.revokeObjectURL(n)}else this.toastr.error("Failed to download certificate")},error:()=>{this.toastr.error("Failed to download certificate")}})}messageInstructor(){let e=this.instructorId();e?this.router.navigate(["/student/chat"],{queryParams:{userId:e}}):this.router.navigate(["/student/chat"])}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-learning"]],standalone:!0,features:[Y],decls:30,vars:9,consts:[[1,"learning-page"],[1,"learning-header"],[1,"header-left"],[1,"back-btn",3,"click"],[1,"icon"],[1,"course-title"],[1,"header-center"],[1,"progress-indicator"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"header-right"],[1,"toggle-sidebar-btn",3,"click"],[1,"learning-content"],[1,"content-area"],[1,"session-container"],[1,"no-session"],[1,"course-completion-section"],[1,"sidebar"],[1,"sidebar-header"],[1,"modules-list"],[1,"module-item",3,"expanded"],[1,"video-container"],[1,"pdf-container"],[1,"article-container"],[1,"quiz-container"],[1,"assignment-container"],[1,"session-details"],[1,"session-header"],[1,"session-type"],[1,"session-actions"],[1,"mark-complete-btn",3,"click","disabled"],[1,"next-btn"],[1,"resources-section"],[1,"video-wrapper"],["frameborder","0","allowfullscreen","","allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",3,"src"],["controls","",2,"width","100%","height","100%",3,"src"],[1,"no-video-placeholder"],[1,"pdf-wrapper"],["type","application/pdf",2,"width","100%","height","100%","border","none",3,"src"],[1,"no-pdf-placeholder"],[1,"pdf-actions"],["target","_blank",1,"download-pdf-btn",3,"href"],[1,"article-content",3,"innerHTML"],[1,"quiz-intro"],[1,"quiz-icon"],[1,"start-quiz-btn",3,"click"],[1,"assignment-intro"],[1,"assignment-icon"],[1,"assignment-content",3,"innerHTML"],[1,"next-btn",3,"click"],[1,"resources-list"],["href","#",1,"resource-item"],[1,"resource-icon"],[1,"empty-icon"],[1,"completion-banner"],[1,"completion-icon"],[1,"rating-form"],[1,"rating-submitted"],[1,"completion-actions"],[1,"message-instructor-btn",3,"click"],[1,"star-rating"],[1,"star",3,"filled"],["placeholder","Share your experience with this course (optional)...","rows","4",1,"review-textarea",3,"ngModelChange","ngModel"],[1,"submit-rating-btn",3,"click","disabled"],[1,"star",3,"click"],[1,"check-icon"],[1,"certificate-btn",3,"click"],[1,"download-cert-btn",3,"click"],[1,"module-item"],[1,"module-header",3,"click"],[1,"module-info"],[1,"module-number"],[1,"module-title"],[1,"module-meta"],[1,"session-count"],[1,"expand-icon"],[1,"sessions-list"],[1,"session-item",3,"active","completed","locked"],[1,"session-item",3,"click"],[1,"session-icon"],[1,"check"],[1,"lock"],[1,"session-info"],[1,"session-title"],[1,"session-duration"]],template:function(t,n){if(t&1&&(o(0,"div",0)(1,"header",1)(2,"div",2)(3,"button",3),x("click",function(){return n.goBack()}),o(4,"span",4),s(5,"\u2190"),r()(),o(6,"h1",5),s(7),r()(),o(8,"div",6)(9,"div",7)(10,"div",8),y(11,"div",9),r(),o(12,"span",10),s(13),r()()(),o(14,"div",11)(15,"button",12),x("click",function(){return n.sidebarCollapsed.set(!n.sidebarCollapsed())}),o(16,"span"),s(17),r()()()(),o(18,"div",13)(19,"main",14),v(20,Me,19,9,"div",15)(21,Pe,7,0,"div",16)(22,ye,16,2,"div",17),r(),o(23,"aside",18)(24,"div",19)(25,"h3"),s(26,"Course Content"),r()(),o(27,"div",20),L(28,Ie,13,8,"div",21,ae),r()()()()),t&2){let l,p,S,g;E("sidebar-collapsed",n.sidebarCollapsed()),a(7),P((l=n.courseData())==null?null:l.courseTitle),a(4),q("width",((p=n.courseData())==null?null:p.progress)||0,"%"),a(2),D("",((S=n.courseData())==null?null:S.progress)||0,"% Complete"),a(4),P(n.sidebarCollapsed()?"\u2630":"\u2715"),a(3),C(n.currentSession()?20:21),a(2),C(n.isCourseComplete()?22:-1),a(6),V((g=n.courseData())==null?null:g.modules)}},dependencies:[W,ie,ee,te,ne],styles:[".learning-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background:#f8f9fa}.learning-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.5rem;background:#000;color:#fff;position:sticky;top:0;z-index:100}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.back-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;width:36px;height:36px;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.25rem;transition:background .3s ease}.back-btn[_ngcontent-%COMP%]:hover{background:#fff3}.course-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;max-width:300px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.header-center[_ngcontent-%COMP%]{flex:1;max-width:400px;margin:0 2rem}.progress-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.progress-bar[_ngcontent-%COMP%]{flex:1;height:6px;background:#fff3;border-radius:3px;overflow:hidden}.progress-fill[_ngcontent-%COMP%]{height:100%;background:#247090;border-radius:3px;transition:width .3s ease}.progress-text[_ngcontent-%COMP%]{font-size:.85rem;color:#fffc;white-space:nowrap}.toggle-sidebar-btn[_ngcontent-%COMP%]{background:#ffffff1a;border:none;color:#fff;width:36px;height:36px;border-radius:8px;cursor:pointer;display:none;align-items:center;justify-content:center;font-size:1.25rem}.learning-content[_ngcontent-%COMP%]{display:flex;flex:1}.content-area[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]{width:350px;background:#fff;border-left:1px solid #e0e0e0;overflow-y:auto;max-height:calc(100vh - 60px);position:sticky;top:60px}.sidebar-collapsed[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{display:none}.sidebar-header[_ngcontent-%COMP%]{padding:1rem 1.25rem;border-bottom:1px solid #e0e0e0}.sidebar-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#000}.module-item[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0}.module-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.25rem;cursor:pointer;transition:background .3s ease}.module-header[_ngcontent-%COMP%]:hover{background:#f8f9fa}.module-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.module-number[_ngcontent-%COMP%]{width:28px;height:28px;background:#f0f0f0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.85rem;font-weight:600;color:#666}.module-title[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem;color:#000}.module-meta[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.session-count[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.expand-icon[_ngcontent-%COMP%]{font-size:.75rem;color:#666}.sessions-list[_ngcontent-%COMP%]{background:#f8f9fa}.session-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1.25rem .875rem 3rem;cursor:pointer;transition:all .3s ease;border-left:3px solid transparent}.session-item[_ngcontent-%COMP%]:hover:not(.locked){background:#f0f0f0}.session-item.active[_ngcontent-%COMP%]{background:#e8f4f8;border-left-color:#247090}.session-item.completed[_ngcontent-%COMP%]   .session-icon[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:#28a745}.session-item.locked[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.session-icon[_ngcontent-%COMP%]{width:28px;height:28px;display:flex;align-items:center;justify-content:center;font-size:.85rem}.session-info[_ngcontent-%COMP%]{flex:1}.session-title[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#333;margin-bottom:.125rem}.session-duration[_ngcontent-%COMP%]{font-size:.8rem;color:#999}.video-container[_ngcontent-%COMP%]{background:#000}.video-wrapper[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0;overflow:hidden}.video-wrapper[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.article-container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.article-content[_ngcontent-%COMP%]{line-height:1.8;color:#333}.quiz-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem}.quiz-intro[_ngcontent-%COMP%]{text-align:center;max-width:400px}.quiz-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.quiz-intro[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.quiz-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.start-quiz-btn[_ngcontent-%COMP%]{padding:.875rem 2rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.start-quiz-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #2470904d}.pdf-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.pdf-wrapper[_ngcontent-%COMP%]{flex:1;min-height:600px;background:#f5f5f5}.pdf-actions[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-top:1px solid #eee;display:flex;justify-content:center}.download-pdf-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border:none;border-radius:8px;font-weight:600;text-decoration:none;transition:all .3s ease}.download-pdf-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #2470904d}.no-pdf-placeholder[_ngcontent-%COMP%], .no-video-placeholder[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;min-height:400px;color:#666}.no-pdf-placeholder[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .no-video-placeholder[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.assignment-container[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:2rem}.assignment-intro[_ngcontent-%COMP%]{text-align:center;max-width:600px}.assignment-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.assignment-intro[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1rem}.assignment-content[_ngcontent-%COMP%]{text-align:left;line-height:1.8;color:#333;background:#f9f9f9;padding:1.5rem;border-radius:10px;margin-top:1rem}.session-details[_ngcontent-%COMP%]{padding:1.5rem 2rem;background:#fff;border-top:1px solid #e0e0e0}.session-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}.session-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700}.session-type[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600}.session-type.Video[_ngcontent-%COMP%]{background:#e3f2fd;color:#1565c0}.session-type.Article[_ngcontent-%COMP%]{background:#f3e5f5;color:#7b1fa2}.session-type.Quiz[_ngcontent-%COMP%]{background:#fff3e0;color:#e65100}.session-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.5rem}.mark-complete-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#28a745;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.mark-complete-btn[_ngcontent-%COMP%]:hover{background:#218838}.completed-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#d4edda;color:#155724;border-radius:8px;font-weight:600}.next-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:#000;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .3s ease}.next-btn[_ngcontent-%COMP%]:hover{background:#247090}.resources-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:.75rem}.resources-list[_ngcontent-%COMP%]{display:flex;gap:1rem}.resource-item[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#f8f9fa;border-radius:8px;color:#333;text-decoration:none;font-size:.9rem;transition:all .3s ease}.resource-item[_ngcontent-%COMP%]:hover{background:#e0e0e0}.no-session[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:2rem}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.no-session[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.no-session[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}@media (max-width: 992px){.toggle-sidebar-btn[_ngcontent-%COMP%]{display:flex}.sidebar[_ngcontent-%COMP%]{position:fixed;top:60px;right:0;bottom:0;width:320px;z-index:90;transform:translate(100%);transition:transform .3s ease}.learning-page[_ngcontent-%COMP%]:not(.sidebar-collapsed)   .sidebar[_ngcontent-%COMP%]{transform:translate(0)}.header-center[_ngcontent-%COMP%]{display:none}}@media (max-width: 576px){.sidebar[_ngcontent-%COMP%]{width:100%}.course-title[_ngcontent-%COMP%]{max-width:150px}}[dir=rtl][_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{border-left:none;border-right:1px solid #e0e0e0}[dir=rtl][_nghost-%COMP%]   .session-item[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .session-item[_ngcontent-%COMP%]{padding:.875rem 3rem .875rem 1.25rem;border-left:none;border-right:3px solid transparent}[dir=rtl][_nghost-%COMP%]   .session-item.active[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .session-item.active[_ngcontent-%COMP%]{border-right-color:#247090}[dir=rtl][_nghost-%COMP%]   .back-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .back-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:rotate(180deg)}[dir=rtl][_nghost-%COMP%]   .next-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .next-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{transform:rotate(180deg)}@media (max-width: 992px){[dir=rtl][_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .sidebar[_ngcontent-%COMP%]{right:auto;left:0;transform:translate(-100%)}[dir=rtl][_nghost-%COMP%]   .learning-page[_ngcontent-%COMP%]:not(.sidebar-collapsed)   .sidebar[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .learning-page[_ngcontent-%COMP%]:not(.sidebar-collapsed)   .sidebar[_ngcontent-%COMP%]{transform:translate(0)}}.course-completion-section[_ngcontent-%COMP%]{padding:2rem;background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border-top:1px solid #e0e0e0}.completion-banner[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;text-align:center;background:#fff;padding:2rem;border-radius:16px;box-shadow:0 4px 20px #0000001a}.completion-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.completion-banner[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#000;margin-bottom:.5rem}.completion-banner[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.rating-form[_ngcontent-%COMP%]{margin:1.5rem 0;padding:1.5rem;background:#f8f9fa;border-radius:12px}.rating-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;margin-bottom:1rem}.star-rating[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-bottom:1rem}.star[_ngcontent-%COMP%]{font-size:2rem;color:#ddd;cursor:pointer;transition:all .2s ease}.star[_ngcontent-%COMP%]:hover, .star.filled[_ngcontent-%COMP%]{color:#ffc107;transform:scale(1.1)}.review-textarea[_ngcontent-%COMP%]{width:100%;padding:1rem;border:1px solid #e0e0e0;border-radius:8px;font-size:.95rem;resize:vertical;margin-bottom:1rem}.review-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#247090}.submit-rating-btn[_ngcontent-%COMP%]{padding:.875rem 2rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.submit-rating-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #2470904d}.submit-rating-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.rating-submitted[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:#d4edda;border-radius:8px;color:#155724;margin:1rem 0}.rating-submitted[_ngcontent-%COMP%]   .check-icon[_ngcontent-%COMP%]{font-size:1.25rem}.completion-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1rem;margin-top:1.5rem}.certificate-btn[_ngcontent-%COMP%], .download-cert-btn[_ngcontent-%COMP%], .message-instructor-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;border:none;border-radius:10px;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .3s ease}.certificate-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#ff9800);color:#000}.certificate-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #ffc1074d}.download-cert-btn[_ngcontent-%COMP%]{background:#28a745;color:#fff}.download-cert-btn[_ngcontent-%COMP%]:hover{background:#218838;transform:translateY(-2px)}.message-instructor-btn[_ngcontent-%COMP%]{background:#000;color:#fff}.message-instructor-btn[_ngcontent-%COMP%]:hover{background:#247090;transform:translateY(-2px)}"]})}return i})();export{Ke as LearningComponent};
