import{a as L}from"./chunk-WSIKJMH2.js";import{a as U}from"./chunk-ZAODAAZN.js";import{a as I}from"./chunk-QFQZ7TF5.js";import"./chunk-XAZLOLJU.js";import"./chunk-JLLNXAHD.js";import{d as N}from"./chunk-SAC5YDHM.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as b,Ab as n,Bb as d,Cb as S,Ja as g,Jb as y,Lb as E,Mb as k,Na as c,Ob as D,W as s,Wa as u,Y as x,cb as f,ga as _,gb as v,ha as h,ic as T,jb as M,kb as O,lb as t,mb as e,mc as z,nb as C,qb as P,sb as w,tb as p}from"./chunk-Q5RFH5SI.js";var j=(r,l)=>l.id,F=r=>["/verify-certificate",r];function $(r,l){r&1&&(t(0,"div",3),C(1,"div",6),t(2,"p"),n(3,"Loading..."),e()())}function R(r,l){r&1&&(t(0,"div",4)(1,"div",7),n(2,"\u{1F3C6}"),e(),t(3,"h3"),n(4,"No Certificates Yet"),e(),t(5,"p"),n(6,"Complete a course to earn your first certificate"),e(),t(7,"a",8),n(8," Start a Course "),e()())}function V(r,l){if(r&1){let o=P();t(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"span",14),n(6,"\u{1F393}"),e(),t(7,"span",15),n(8,"TechMaster"),e()(),t(9,"h4",16),n(10,"Certificate of"),e(),t(11,"h3",17),n(12,"Completion"),e(),t(13,"p",18),n(14),e(),t(15,"p",19),n(16),e(),t(17,"div",20)(18,"span",21),n(19),e()()()()(),t(20,"div",22)(21,"div",23),C(22,"img",24),t(23,"div",25)(24,"h4"),n(25),e(),t(26,"span",26),n(27),e()()(),t(28,"div",27)(29,"div",28)(30,"span",29),n(31,"Issued Date"),e(),t(32,"span",30),n(33),k(34,"date"),e()(),t(35,"div",28)(36,"span",29),n(37,"Grade"),e(),t(38,"span",31),n(39),e()(),t(40,"div",28)(41,"span",29),n(42,"Certificate ID"),e(),t(43,"span",30),n(44),e()()(),t(45,"div",32)(46,"a",33)(47,"span",34),n(48,"\u{1F4E5}"),e(),n(49," Download "),e(),t(50,"button",35),w("click",function(){let a=_(o).$implicit,m=p(2);return h(m.shareCertificate(a))}),t(51,"span",34),n(52,"\u{1F517}"),e(),n(53," Share "),e(),t(54,"a",36)(55,"span",34),n(56,"\u2713"),e(),n(57," Verify "),e()()()()}if(r&2){let o,i=l.$implicit,a=p(2);c(14),d((o=a.authService.getCurrentUser())==null?null:o.fullName),c(2),d(i.courseTitle),c(3),S("#",i.certificateNumber,""),c(3),f("src",i.courseThumbnail||"assets/images/course-placeholder.jpg",g)("alt",i.courseTitle),c(3),d(i.courseTitle),c(2),d(i.instructorName),c(6),d(D(34,12,i.issuedDate,"mediumDate")),c(6),d(i.grade),c(5),d(i.certificateNumber),c(2),f("href",i.downloadUrl,g),c(8),f("routerLink",E(15,F,i.certificateNumber))}}function A(r,l){if(r&1&&(t(0,"div",5),M(1,V,58,17,"div",9,j),e()),r&2){let o=p();c(),O(o.certificates())}}var X=(()=>{class r{authService=s(U);certificateService=s(L);toastr=s(I);loading=u(!0);certificates=u([]);ngOnInit(){this.loadCertificates()}loadCertificates(){this.loading.set(!0),this.certificateService.getMyCertificates().subscribe({next:o=>{let i=o.map(a=>({id:a.id,certificateNumber:a.certificateNumber,courseTitle:a.courseName,courseThumbnail:"assets/images/courses/default.jpg",issuedDate:new Date(a.issueDate||new Date),instructorName:"TechMaster",grade:a.grade||"A",downloadUrl:a.downloadUrl||"#"}));this.certificates.set(i),this.loading.set(!1)},error:()=>{this.toastr.error("Failed to load certificates"),this.loading.set(!1)}})}shareCertificate(o){let i=`${window.location.origin}/verify-certificate/${o.certificateNumber}`;navigator.share?navigator.share({title:"TechMaster Certificate",text:`Check out my certificate for ${o.courseTitle}!`,url:i}):(navigator.clipboard.writeText(i),this.toastr.success("Link copied to clipboard!"))}downloadCertificate(o){this.certificateService.downloadCertificate(o.id).subscribe({next:i=>{if(i){let a=window.URL.createObjectURL(i),m=document.createElement("a");m.href=a,m.download=`certificate-${o.certificateNumber}.pdf`,m.click(),window.URL.revokeObjectURL(a)}else this.toastr.error("Failed to download certificate")}})}static \u0275fac=function(i){return new(i||r)};static \u0275cmp=x({type:r,selectors:[["app-student-certificates"]],standalone:!0,features:[y],decls:10,vars:1,consts:[[1,"certificates-page"],[1,"page-header"],[1,"header-content"],[1,"loading-state"],[1,"empty-state"],[1,"certificates-grid"],[1,"spinner"],[1,"empty-icon"],["routerLink","/courses",1,"cta-btn"],[1,"certificate-card"],[1,"certificate-preview"],[1,"certificate-frame"],[1,"certificate-content"],[1,"certificate-header"],[1,"logo-icon"],[1,"logo-text"],[1,"certificate-title"],[1,"completion-text"],[1,"recipient-name"],[1,"course-name"],[1,"certificate-footer"],[1,"certificate-number"],[1,"certificate-details"],[1,"course-info"],[3,"src","alt"],[1,"info-text"],[1,"instructor"],[1,"meta-info"],[1,"meta-item"],[1,"label"],[1,"value"],[1,"value","grade"],[1,"card-actions"],["download","",1,"download-btn",3,"href"],[1,"icon"],[1,"share-btn",3,"click"],[1,"verify-btn",3,"routerLink"]],template:function(i,a){i&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n(4,"My Certificates"),e(),t(5,"p"),n(6,"View and download your earned certificates"),e()()(),b(7,$,4,0,"div",3)(8,R,9,0,"div",4)(9,A,3,0,"div",5),e()),i&2&&(c(7),v(a.loading()?7:a.certificates().length===0?8:9))},dependencies:[z,T,N],styles:['.certificates-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem}.page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000;margin-bottom:.5rem}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid #f0f0f0;border-top-color:#247090;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#f8f9fa;border-radius:20px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.cta-btn[_ngcontent-%COMP%]{display:inline-block;padding:.875rem 2rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border-radius:10px;text-decoration:none;font-weight:600}.certificates-grid[_ngcontent-%COMP%]{display:grid;gap:2rem}.certificate-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #00000014;display:grid;grid-template-columns:400px 1fr}.certificate-preview[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1a1a2e,#16213e);padding:2rem;display:flex;align-items:center;justify-content:center}.certificate-frame[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff9e6,#fff5d6);border:8px solid #d4af37;border-radius:8px;padding:1.5rem;width:100%;max-width:300px;aspect-ratio:4/3;display:flex;flex-direction:column;position:relative}.certificate-frame[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:8px;border:2px solid #d4af37;border-radius:4px;pointer-events:none}.certificate-content[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.certificate-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.logo-icon[_ngcontent-%COMP%]{font-size:1.5rem}.logo-text[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#333}.certificate-title[_ngcontent-%COMP%]{font-size:.7rem;color:#666;text-transform:uppercase;letter-spacing:2px;margin-bottom:.25rem}.completion-text[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#000;margin-bottom:.75rem}.recipient-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:#247090;margin-bottom:.25rem}.course-name[_ngcontent-%COMP%]{font-size:.75rem;color:#666;line-height:1.4}.certificate-footer[_ngcontent-%COMP%]{margin-top:auto;padding-top:.5rem}.certificate-number[_ngcontent-%COMP%]{font-size:.65rem;color:#999;font-family:monospace}.certificate-details[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem}.course-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.course-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px;height:60px;object-fit:cover;border-radius:8px}.info-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#000;margin-bottom:.25rem}.instructor[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.meta-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1rem}.meta-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.meta-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#999}.meta-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#333}.meta-item[_ngcontent-%COMP%]   .grade[_ngcontent-%COMP%]{color:#28a745}.card-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-top:auto;flex-wrap:wrap}.download-btn[_ngcontent-%COMP%], .share-btn[_ngcontent-%COMP%], .verify-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1rem;border-radius:8px;font-size:.9rem;font-weight:600;cursor:pointer;text-decoration:none;transition:all .3s ease}.download-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border:none}.download-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #2470904d}.share-btn[_ngcontent-%COMP%]{background:#f8f9fa;color:#333;border:none}.share-btn[_ngcontent-%COMP%]:hover{background:#e0e0e0}.verify-btn[_ngcontent-%COMP%]{background:transparent;color:#247090;border:2px solid #247090}.verify-btn[_ngcontent-%COMP%]:hover{background:#247090;color:#fff}@media (max-width: 992px){.certificate-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.certificate-preview[_ngcontent-%COMP%]{padding:1.5rem}.certificate-frame[_ngcontent-%COMP%]{max-width:280px}}@media (max-width: 576px){.certificates-page[_ngcontent-%COMP%]{padding:1rem}.meta-info[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.card-actions[_ngcontent-%COMP%]{flex-direction:column}.download-btn[_ngcontent-%COMP%], .share-btn[_ngcontent-%COMP%], .verify-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}}']})}return r})();export{X as StudentCertificatesComponent};
