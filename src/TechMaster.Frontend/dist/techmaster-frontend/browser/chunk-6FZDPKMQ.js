import{a as S}from"./chunk-JLLNXAHD.js";import{a as h,d as m}from"./chunk-L2ZR2CCC.js";import{Q as o,W as g,a as u,b as r,n as s,r as p,z as a}from"./chunk-Q5RFH5SI.js";function l(n){return r(u({},n),{title:n.nameEn||n.title,company:n.companyName||n.company,workType:n.isRemote?"Remote":"OnSite",duration:n.durationInWeeks?`${n.durationInWeeks} weeks`:n.duration,isActive:n.status==="Open",applicationsCount:n.applicationCount||0,companyLogo:n.companyLogoUrl||n.companyLogo})}var R=(()=>{class n{http=g(m);API_URL=`${S.apiUrl}/internships`;getInternships(e){let t=new h;return e?.pageNumber&&(t=t.set("pageNumber",e.pageNumber.toString())),e?.pageSize&&(t=t.set("pageSize",e.pageSize.toString())),e?.status&&(t=t.set("status",e.status)),e?.search&&(t=t.set("search",e.search)),this.http.get(this.API_URL,{params:t}).pipe(p(i=>i.isSuccess&&i.data?r(u({},i.data),{items:(i.data.items||[]).map(l)}):{items:[],totalCount:0,pageNumber:1,pageSize:10,totalPages:0}),a(()=>s({items:[],totalCount:0,pageNumber:1,pageSize:10,totalPages:0})))}getInternship(e){return this.http.get(`${this.API_URL}/${e}`).pipe(p(t=>t.isSuccess?l(t.data):null),a(()=>s(null)))}getInternshipBySlug(e){return this.http.get(`${this.API_URL}/slug/${e}`).pipe(p(t=>t.isSuccess?l(t.data):null),a(()=>s(null)))}createInternship(e){return this.http.post(this.API_URL,e).pipe(p(t=>t.isSuccess?t.data:null),a(()=>s(null)))}updateInternship(e,t){return this.http.put(`${this.API_URL}/${e}`,t).pipe(p(i=>i.isSuccess),a(()=>s(!1)))}deleteInternship(e){return this.http.delete(`${this.API_URL}/${e}`).pipe(p(t=>t.isSuccess),a(()=>s(!1)))}applyForInternship(e,t){return this.http.post(`${this.API_URL}/${e}/apply`,t).pipe(p(i=>i.isSuccess?i.data:null),a(()=>s(null)))}getMyApplications(){return this.http.get(`${this.API_URL}/my-applications`).pipe(p(e=>e.isSuccess?e.data:[]),a(()=>s([])))}getInternshipApplications(e,t){let i=new h;return t?.pageNumber&&(i=i.set("pageNumber",t.pageNumber.toString())),t?.pageSize&&(i=i.set("pageSize",t.pageSize.toString())),t?.status&&(i=i.set("status",t.status)),this.http.get(`${this.API_URL}/${e}/applications`,{params:i}).pipe(p(c=>c.isSuccess?c.data:{items:[],totalCount:0,pageNumber:1,pageSize:10,totalPages:0}),a(()=>s({items:[],totalCount:0,pageNumber:1,pageSize:10,totalPages:0})))}reviewApplication(e,t){return this.http.post(`${this.API_URL}/applications/${e}/review`,t).pipe(p(i=>i.isSuccess),a(()=>s(!1)))}getInternshipTasks(e){return this.http.get(`${this.API_URL}/${e}/tasks`).pipe(p(t=>t.isSuccess?t.data:[]),a(()=>s([])))}getTask(e){return this.http.get(`${this.API_URL}/tasks/${e}`).pipe(p(t=>t.isSuccess?t.data:null),a(()=>s(null)))}createTask(e,t){return this.http.post(`${this.API_URL}/${e}/tasks`,t).pipe(p(i=>i.isSuccess?i.data:null),a(()=>s(null)))}updateTask(e,t){return this.http.put(`${this.API_URL}/tasks/${e}`,t).pipe(p(i=>i.isSuccess?i.data:null),a(()=>s(null)))}deleteTask(e){return this.http.delete(`${this.API_URL}/tasks/${e}`).pipe(p(t=>t.isSuccess),a(()=>s(!1)))}submitTask(e,t){return this.http.post(`${this.API_URL}/tasks/${e}/submit`,t).pipe(p(i=>i.isSuccess?i.data:null),a(()=>s(null)))}getTaskSubmissions(e){return this.http.get(`${this.API_URL}/tasks/${e}/submissions`).pipe(p(t=>t.isSuccess?t.data:[]),a(()=>s([])))}getMySubmissions(e){return this.http.get(`${this.API_URL}/${e}/my-submissions`).pipe(p(t=>t.isSuccess?t.data:[]),a(()=>s([])))}gradeSubmission(e,t){return this.http.post(`${this.API_URL}/submissions/${e}/grade`,t).pipe(p(i=>i.isSuccess?i.data:null),a(()=>s(null)))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=o({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();export{R as a};
