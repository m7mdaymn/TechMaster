import{a as _e}from"./chunk-QE2MCLLX.js";import{a as ce}from"./chunk-G35OTEPF.js";import{a as ue}from"./chunk-JHXK2CUC.js";import{a as pe}from"./chunk-XQGCPSEC.js";import{a as X,b as ee,d as te,g as ne,i as ie,m as oe,n as re,o as ae,p as se,q as le,t as de}from"./chunk-HRUO5R4Q.js";import{a as J}from"./chunk-QFQZ7TF5.js";import"./chunk-XAZLOLJU.js";import{a as K}from"./chunk-JLLNXAHD.js";import{a as G,c as Z}from"./chunk-SAC5YDHM.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as v,Ab as s,Bb as F,Cb as E,Fb as g,Gb as C,Hb as x,Ja as T,Jb as $,Kb as R,Mb as N,Na as d,Pb as Y,W as V,Wa as w,Y as B,cb as y,db as I,eb as O,ga as u,gb as M,ha as p,hb as q,jb as A,kb as k,lb as o,lc as H,mb as i,mc as j,nb as S,qb as b,sb as h,tb as l,vb as W,wb as z,xb as D,yb as L}from"./chunk-Q5RFH5SI.js";var ge=["thumbnailInput"],Ce=["videoInput"],xe=["sessionVideoInput"],fe=["sessionPdfInput"],Q=(a,_)=>_.id,he=()=>[];function be(a,_){a&1&&S(0,"span",13)}function Me(a,_){a&1&&(o(0,"span",26),s(1,"\u2713"),i())}function we(a,_){if(a&1){let t=b();o(0,"button",23),h("click",function(){let e=u(t).$implicit,n=l();return p(n.activeStep.set(e.id))}),o(1,"span",24),s(2),i(),o(3,"span",25),s(4),i(),v(5,Me,2,0,"span",26),i()}if(a&2){let t=_.$implicit,r=_.$index,e=l();O("active",e.activeStep()===t.id)("completed",e.isStepCompleted(t.id)),d(2),F(r+1),d(2),F(t.label),d(),M(e.isStepCompleted(t.id)?5:-1)}}function ve(a,_){if(a&1&&(o(0,"option",33),s(1),i()),a&2){let t=_.$implicit;y("ngValue",t.id),d(),F(t.fullName)}}function ye(a,_){if(a&1&&(o(0,"option",33),s(1),i()),a&2){let t=_.$implicit;y("ngValue",t.id),d(),F(t.nameEn)}}function Pe(a,_){if(a&1){let t=b();o(0,"div",19)(1,"h2"),s(2,"Basic Information"),i(),o(3,"p",27),s(4,"Enter the basic details about the course"),i(),o(5,"div",28)(6,"div",29)(7,"label"),s(8,"Course Title (English) *"),i(),o(9,"input",30),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.nameEn,e)||(n.course.nameEn=e),p(e)}),i()(),o(10,"div",29)(11,"label"),s(12,"Course Title (Arabic)"),i(),o(13,"input",31),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.nameAr,e)||(n.course.nameAr=e),p(e)}),i()()(),o(14,"div",29)(15,"label"),s(16,"Assign Instructor *"),i(),o(17,"select",32),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.instructorId,e)||(n.course.instructorId=e),p(e)}),o(18,"option",33),s(19,"Select an instructor..."),i(),A(20,ve,2,2,"option",33,Q),i()(),o(22,"div",28)(23,"div",29)(24,"label"),s(25,"Category *"),i(),o(26,"select",32),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.categoryId,e)||(n.course.categoryId=e),p(e)}),o(27,"option",33),s(28,"Select category..."),i(),A(29,ye,2,2,"option",33,Q),i()(),o(31,"div",29)(32,"label"),s(33,"Level *"),i(),o(34,"select",32),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.level,e)||(n.course.level=e),p(e)}),o(35,"option",34),s(36,"Beginner"),i(),o(37,"option",35),s(38,"Intermediate"),i(),o(39,"option",36),s(40,"Advanced"),i()()()(),o(41,"div",28)(42,"div",29)(43,"label"),s(44,"Duration (Hours)"),i(),o(45,"input",37),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.durationInHours,e)||(n.course.durationInHours=e),p(e)}),i()(),o(46,"div",29)(47,"label"),s(48,"Language"),i(),o(49,"select",32),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.language,e)||(n.course.language=e),p(e)}),o(50,"option",38),s(51,"English"),i(),o(52,"option",39),s(53,"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"),i(),o(54,"option",40),s(55,"Both"),i()()()(),o(56,"div",29)(57,"label"),s(58,"Short Description (English)"),i(),o(59,"textarea",41),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.descriptionEn,e)||(n.course.descriptionEn=e),p(e)}),i()(),o(60,"div",29)(61,"label"),s(62,"Short Description (Arabic)"),i(),o(63,"textarea",42),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.descriptionAr,e)||(n.course.descriptionAr=e),p(e)}),i()(),o(64,"div",29)(65,"label"),s(66,"What You'll Learn (English)"),i(),o(67,"textarea",43),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.whatYouWillLearnEn,e)||(n.course.whatYouWillLearnEn=e),p(e)}),i()(),o(68,"div",29)(69,"label"),s(70,"Requirements (English)"),i(),o(71,"textarea",44),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.requirementsEn,e)||(n.course.requirementsEn=e),p(e)}),i()()()}if(a&2){let t=l();d(9),g("ngModel",t.course.nameEn),d(4),g("ngModel",t.course.nameAr),d(4),g("ngModel",t.course.instructorId),d(),y("ngValue",null),d(2),k(t.instructors()),d(6),g("ngModel",t.course.categoryId),d(),y("ngValue",null),d(2),k(t.categories()),d(5),g("ngModel",t.course.level),d(11),g("ngModel",t.course.durationInHours),d(4),g("ngModel",t.course.language),d(10),g("ngModel",t.course.descriptionEn),d(4),g("ngModel",t.course.descriptionAr),d(4),g("ngModel",t.course.whatYouWillLearnEn),d(4),g("ngModel",t.course.requirementsEn)}}function Se(a,_){if(a&1){let t=b();S(0,"img",54),o(1,"button",55),h("click",function(e){u(t);let n=l(2);return p(n.removeThumbnail(e))}),s(2,"\xD7"),i()}if(a&2){let t=l(2);y("src",t.getMediaUrl(t.thumbnailPreview()),T)}}function Ee(a,_){a&1&&(o(0,"div",48)(1,"span",56),s(2,"\u{1F5BC}\uFE0F"),i(),o(3,"h4"),s(4,"Upload Thumbnail"),i(),o(5,"p"),s(6,"Recommended: 1280x720 (16:9)"),i()())}function Ve(a,_){if(a&1&&(o(0,"div",49),S(1,"div",57),o(2,"span"),s(3),i()()),a&2){let t=l(2);d(),I("width",t.thumbnailProgress(),"%"),d(2),E("",t.thumbnailProgress(),"%")}}function Oe(a,_){if(a&1){let t=b();o(0,"div",58),S(1,"video",60),o(2,"button",55),h("click",function(e){u(t);let n=l(3);return p(n.removeVideo(e))}),s(3,"\xD7"),i()()}if(a&2){let t=l(3);d(),y("src",t.getMediaUrl(t.videoPreview()),T)}}function Ae(a,_){a&1&&(o(0,"div",48)(1,"span",56),s(2,"\u{1F3AC}"),i(),o(3,"h4"),s(4,"Upload Promo Video"),i(),o(5,"p"),s(6,"Max 500MB, MP4/WebM format"),i()())}function ke(a,_){if(a&1&&(o(0,"div",49),S(1,"div",57),o(2,"span"),s(3),i()()),a&2){let t=l(3);d(),I("width",t.videoProgress(),"%"),d(2),E("",t.videoProgress(),"%")}}function Fe(a,_){if(a&1){let t=b();o(0,"div",47),h("click",function(){u(t);let e=L(5);return p(e.click())}),v(1,Oe,4,1,"div",58)(2,Ae,7,0,"div",48)(3,ke,4,3,"div",49),i(),o(4,"input",59,1),h("change",function(e){u(t);let n=l(2);return p(n.onVideoSelected(e))}),i()}if(a&2){let t=l(2);d(),M(t.videoPreview()?1:2),d(2),M(t.uploadingVideo()?3:-1)}}function Te(a,_){if(a&1&&(o(0,"div",62)(1,"span"),s(2),N(3,"slice"),i()()),a&2){let t=l(3);d(2),E("\u{1F517} ",Y(3,1,t.course.trailerVideoUrl,0,50),"...")}}function qe(a,_){if(a&1){let t=b();o(0,"div",53)(1,"input",61),x("ngModelChange",function(e){u(t);let n=l(2);return C(n.course.trailerVideoUrl,e)||(n.course.trailerVideoUrl=e),p(e)}),i(),v(2,Te,4,5,"div",62),i()}if(a&2){let t=l(2);d(),g("ngModel",t.course.trailerVideoUrl),d(),M(t.course.trailerVideoUrl?2:-1)}}function We(a,_){if(a&1){let t=b();o(0,"div",19)(1,"h2"),s(2,"Media"),i(),o(3,"p",27),s(4,"Upload course thumbnail and promo video"),i(),o(5,"div",45)(6,"div",46)(7,"label"),s(8,"Course Thumbnail *"),i(),o(9,"div",47),h("click",function(){u(t);let e=L(14);return p(e.click())}),v(10,Se,3,1)(11,Ee,7,0,"div",48)(12,Ve,4,3,"div",49),i(),o(13,"input",50,0),h("change",function(e){u(t);let n=l();return p(n.onThumbnailSelected(e))}),i()(),o(15,"div",46)(16,"label"),s(17,"Promo/Trailer Video"),i(),o(18,"div",51)(19,"button",52),h("click",function(){u(t);let e=l();return p(e.promoVideoSource="upload")}),s(20," \u{1F4E4} Upload Video "),i(),o(21,"button",52),h("click",function(){u(t);let e=l();return p(e.promoVideoSource="link")}),s(22," \u{1F517} Video Link "),i()(),v(23,Fe,6,2)(24,qe,3,2,"div",53),i()()()}if(a&2){let t=l();d(10),M(t.thumbnailPreview()?10:11),d(2),M(t.uploadingThumbnail()?12:-1),d(7),O("active",t.promoVideoSource==="upload"),d(2),O("active",t.promoVideoSource==="link"),d(2),M(t.promoVideoSource==="upload"?23:24)}}function ze(a,_){if(a&1&&(o(0,"span",99),s(1,"\u2713 Video uploaded"),i(),S(2,"video",100)),a&2){let t=l(3).$implicit,r=l(3);d(2),y("src",r.getMediaUrl(t.videoUrl),T)}}function De(a,_){if(a&1){let t=b();o(0,"div",92)(1,"button",98),h("click",function(){u(t);let e=l(2).$index,n=l().$index,c=l(2);return p(c.uploadSessionContent(n,e,"video"))}),s(2),i(),v(3,ze,3,1),i()}if(a&2){let t=l(2).$implicit;d(2),E(" \u{1F4E4} ",t.videoUrl?"Change Video":"Upload Video"," "),d(),M(t.videoUrl?3:-1)}}function Ue(a,_){if(a&1){let t=b();o(0,"input",101),x("ngModelChange",function(e){u(t);let n=l(2).$implicit;return C(n.externalLink,e)||(n.externalLink=e),p(e)}),i()}if(a&2){let t=l(2).$implicit;g("ngModel",t.externalLink)}}function Ie(a,_){if(a&1){let t=b();o(0,"div",96)(1,"button",52),h("click",function(){u(t);let e=l().$implicit;return p(e.contentType="upload")}),s(2," \u{1F4E4} Upload Video "),i(),o(3,"button",52),h("click",function(){u(t);let e=l().$implicit;return p(e.contentType="link")}),s(4," \u{1F517} Video Link "),i()(),v(5,De,4,2,"div",92)(6,Ue,1,1,"input",97)}if(a&2){let t=l().$implicit;d(),O("active",t.contentType==="upload"),d(2),O("active",t.contentType==="link"),d(2),M(t.contentType==="upload"?5:6)}}function Le(a,_){if(a&1&&(o(0,"span",99),s(1,"\u2713 PDF uploaded"),i(),o(2,"a",102),s(3,"View PDF"),i()),a&2){let t=l(2).$implicit,r=l(3);d(2),y("href",r.getMediaUrl(t.pdfUrl),T)}}function Qe(a,_){if(a&1){let t=b();o(0,"div",92)(1,"button",98),h("click",function(){u(t);let e=l().$index,n=l().$index,c=l(2);return p(c.uploadSessionContent(n,e,"pdf"))}),s(2),i(),v(3,Le,4,1),i()}if(a&2){let t=l().$implicit;d(2),E(" \u{1F4C4} ",t.pdfUrl?"Change PDF":"Upload PDF"," "),d(),M(t.pdfUrl?3:-1)}}function Be(a,_){if(a&1){let t=b();o(0,"textarea",103),x("ngModelChange",function(e){u(t);let n=l().$implicit;return C(n.content,e)||(n.content=e),p(e)}),i()}if(a&2){let t=l().$implicit;g("ngModel",t.content)}}function $e(a,_){if(a&1){let t=b();o(0,"div",120)(1,"label")(2,"input",122),h("change",function(){u(t);let e=l().$index,n=l(2).$index,c=l().$index,m=l(2);return p(m.setTrueFalseAnswer(c,n,e,!0))}),i(),s(3," True"),i(),o(4,"label")(5,"input",122),h("change",function(){u(t);let e=l().$index,n=l(2).$index,c=l().$index,m=l(2);return p(m.setTrueFalseAnswer(c,n,e,!1))}),i(),s(6," False"),i()()}if(a&2){let t=l(),r=t.$implicit,e=t.$index,n=l(2).$index,c=l().$index;d(2),y("name","tf_"+c+"_"+n+"_"+e)("checked",r.options[0].isCorrect),d(3),y("name","tf_"+c+"_"+n+"_"+e)("checked",r.options[1].isCorrect)}}function Re(a,_){if(a&1){let t=b();o(0,"div",123)(1,"input",125),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.isCorrect,e)||(n.isCorrect=e),p(e)}),i(),o(2,"input",126),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.textEn,e)||(n.textEn=e),p(e)}),i(),o(3,"button",127),h("click",function(){let e=u(t).$index,n=l(2).$index,c=l(2).$index,m=l().$index,f=l(2);return p(f.deleteQuizOption(m,c,n,e))}),s(4,"\u2715"),i()()}if(a&2){let t=_.$implicit;d(),g("ngModel",t.isCorrect),d(),g("ngModel",t.textEn)}}function Ne(a,_){if(a&1){let t=b();o(0,"div",121),A(1,Re,5,2,"div",123,q),o(3,"button",124),h("click",function(){u(t);let e=l().$index,n=l(2).$index,c=l().$index,m=l(2);return p(m.addQuizOption(c,n,e))}),s(4,"+ Add Option"),i()()}if(a&2){let t=l().$implicit;d(),k(t.options)}}function Ye(a,_){if(a&1){let t=b();o(0,"div",109)(1,"div",110)(2,"span",111),s(3),i(),o(4,"select",112),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.type,e)||(n.type=e),p(e)}),o(5,"option",113),s(6,"Single Choice"),i(),o(7,"option",114),s(8,"Multiple Choice"),i(),o(9,"option",115),s(10,"True/False"),i()(),o(11,"input",116),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.points,e)||(n.points=e),p(e)}),i(),o(12,"button",117),h("click",function(){let e=u(t).$index,n=l(2).$index,c=l().$index,m=l(2);return p(m.deleteQuizQuestion(c,n,e))}),s(13,"\u2715"),i()(),o(14,"input",118),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.questionEn,e)||(n.questionEn=e),p(e)}),i(),o(15,"input",119),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.questionAr,e)||(n.questionAr=e),p(e)}),i(),v(16,$e,7,4,"div",120)(17,Ne,5,0,"div",121),i()}if(a&2){let t=_.$implicit,r=_.$index;d(3),E("Q",r+1,""),d(),g("ngModel",t.type),d(7),g("ngModel",t.points),d(3),g("ngModel",t.questionEn),d(),g("ngModel",t.questionAr),d(),M(t.type==="true-false"?16:17)}}function He(a,_){if(a&1){let t=b();o(0,"div",94)(1,"div",104)(2,"div",105)(3,"label"),s(4,"Passing Score (%)"),i(),o(5,"input",106),x("ngModelChange",function(e){u(t);let n=l().$implicit;return C(n.quizPassingScore,e)||(n.quizPassingScore=e),p(e)}),i()(),o(6,"div",105)(7,"label"),s(8,"Time Limit (min)"),i(),o(9,"input",107),x("ngModelChange",function(e){u(t);let n=l().$implicit;return C(n.quizTimeLimit,e)||(n.quizTimeLimit=e),p(e)}),i()()(),o(10,"button",108),h("click",function(){u(t);let e=l().$index,n=l().$index,c=l(2);return p(c.addQuizQuestion(n,e))}),s(11,"\u2795 Add Question"),i(),A(12,Ye,18,6,"div",109,q),i()}if(a&2){let t=l().$implicit;d(5),g("ngModel",t.quizPassingScore),d(4),g("ngModel",t.quizTimeLimit),d(3),k(t.quizQuestions||R(2,he))}}function je(a,_){if(a&1){let t=b();o(0,"input",128),x("ngModelChange",function(e){u(t);let n=l().$implicit;return C(n.externalLink,e)||(n.externalLink=e),p(e)}),i()}if(a&2){let t=l().$implicit;g("ngModel",t.externalLink)}}function Ge(a,_){if(a&1){let t=b();o(0,"div",76)(1,"div",78)(2,"span",79),s(3,"\u283F"),i(),o(4,"select",80),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.type,e)||(n.type=e),p(e)}),h("ngModelChange",function(){let e=u(t).$index,n=l().$index,c=l(2);return p(c.onSessionTypeChange(n,e))}),o(5,"option",81),s(6,"\u{1F3AC} Video"),i(),o(7,"option",82),s(8,"\u{1F4C4} PDF Document"),i(),o(9,"option",83),s(10,"\u{1F4DD} Article"),i(),o(11,"option",84),s(12,"\u{1F4DD} Quiz"),i(),o(13,"option",85),s(14,"\u{1F4E1} Live Session"),i()(),o(15,"input",86),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.title,e)||(n.title=e),p(e)}),i(),o(16,"input",87),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.duration,e)||(n.duration=e),p(e)}),i(),o(17,"label",88)(18,"input",89),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.isFree,e)||(n.isFree=e),p(e)}),i(),s(19," Free "),i(),o(20,"button",90),h("click",function(){let e=u(t).$index,n=l().$index,c=l(2);return p(c.deleteSession(n,e))}),s(21,"\u2715"),i()(),o(22,"div",91),v(23,Ie,7,5)(24,Qe,4,2,"div",92)(25,Be,1,1,"textarea",93)(26,He,14,3,"div",94)(27,je,1,1,"input",95),i()()}if(a&2){let t=_.$implicit;d(4),g("ngModel",t.type),d(11),g("ngModel",t.title),d(),g("ngModel",t.duration),d(2),g("ngModel",t.isFree),d(5),M(t.type==="Video"?23:-1),d(),M(t.type==="PDF"?24:-1),d(),M(t.type==="Article"?25:-1),d(),M(t.type==="Quiz"?26:-1),d(),M(t.type==="Live"?27:-1)}}function Ze(a,_){a&1&&(o(0,"div",77)(1,"p"),s(2,'No sessions yet. Click "Add Session" to start.'),i()())}function Je(a,_){if(a&1){let t=b();o(0,"div",64)(1,"div",67)(2,"div",68),s(3,"\u283F"),i(),o(4,"div",69)(5,"input",70),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.title,e)||(n.title=e),p(e)}),i(),o(6,"input",71),x("ngModelChange",function(e){let n=u(t).$implicit;return C(n.titleAr,e)||(n.titleAr=e),p(e)}),i()(),o(7,"div",72)(8,"button",73),h("click",function(){let e=u(t).$index,n=l(2);return p(n.addSession(e))}),s(9,"\u2795 Add Session"),i(),o(10,"button",74),h("click",function(){let e=u(t).$index,n=l(2);return p(n.deleteModule(e))}),s(11,"\u{1F5D1}\uFE0F"),i()()(),o(12,"div",75),A(13,Ge,28,9,"div",76,q,!1,Ze,3,0,"div",77),i()()}if(a&2){let t=_.$implicit;d(5),g("ngModel",t.title),d(),g("ngModel",t.titleAr),d(7),k(t.sessions)}}function Ke(a,_){if(a&1){let t=b();o(0,"div",19)(1,"h2"),s(2,"Curriculum"),i(),o(3,"p",27),s(4,"Organize your course into modules and sessions"),i(),o(5,"div",63),A(6,Je,16,3,"div",64,q),o(8,"button",65),h("click",function(){u(t);let e=l();return p(e.addModule())}),s(9,"\u2795 Add Module"),i()(),o(10,"input",59,2),h("change",function(e){u(t);let n=l();return p(n.onSessionContentSelected(e,"video"))}),i(),o(12,"input",66,3),h("change",function(e){u(t);let n=l();return p(n.onSessionContentSelected(e,"pdf"))}),i()()}if(a&2){let t=l();d(6),k(t.modules())}}function Xe(a,_){if(a&1){let t=b();o(0,"div",135)(1,"div",28)(2,"div",29)(3,"label"),s(4,"Price (EGP) *"),i(),o(5,"div",136)(6,"span",137),s(7),i(),o(8,"input",138),x("ngModelChange",function(e){u(t);let n=l(2);return C(n.course.price,e)||(n.course.price=e),p(e)}),i()()(),o(9,"div",29)(10,"label"),s(11,"Discount Price (Optional)"),i(),o(12,"div",136)(13,"span",137),s(14),i(),o(15,"input",138),x("ngModelChange",function(e){u(t);let n=l(2);return C(n.course.discountPrice,e)||(n.course.discountPrice=e),p(e)}),i()()()()()}if(a&2){let t=l(2);d(7),F(t.getCurrencySymbol()),d(),g("ngModel",t.course.price),d(6),F(t.getCurrencySymbol()),d(),g("ngModel",t.course.discountPrice)}}function et(a,_){if(a&1){let t=b();o(0,"div",19)(1,"h2"),s(2,"Pricing"),i(),o(3,"p",27),s(4),i(),o(5,"div",129)(6,"label",130)(7,"input",131),h("change",function(){u(t);let e=l();return p(e.pricingType.set("free"))}),i(),o(8,"div",132)(9,"span",133),s(10,"\u{1F193}"),i(),o(11,"h4"),s(12,"Free"),i(),o(13,"p"),s(14,"Make this course available for free"),i()()(),o(15,"label",130)(16,"input",134),h("change",function(){u(t);let e=l();return p(e.pricingType.set("paid"))}),i(),o(17,"div",132)(18,"span",133),s(19,"\u{1F4B0}"),i(),o(20,"h4"),s(21,"Paid"),i(),o(22,"p"),s(23,"Set a price for this course"),i()()()(),v(24,Xe,16,4,"div",135),i()}if(a&2){let t=l();d(4),E("Set the price for this course (Currency: ",t.siteCurrency(),")"),d(2),O("active",t.pricingType()==="free"),d(),y("checked",t.pricingType()==="free"),d(8),O("active",t.pricingType()==="paid"),d(),y("checked",t.pricingType()==="paid"),d(8),M(t.pricingType()==="paid"?24:-1)}}function tt(a,_){if(a&1){let t=b();o(0,"div",105)(1,"label"),s(2,"Passing Score (%)"),i(),o(3,"input",144),x("ngModelChange",function(e){u(t);let n=l(2);return C(n.course.finalAssessmentPassingScore,e)||(n.course.finalAssessmentPassingScore=e),p(e)}),i()()}if(a&2){let t=l(2);d(3),g("ngModel",t.course.finalAssessmentPassingScore)}}function nt(a,_){if(a&1){let t=b();o(0,"div",19)(1,"h2"),s(2,"Course Settings"),i(),o(3,"p",27),s(4,"Configure additional course settings"),i(),o(5,"div",139)(6,"div",140)(7,"div",141)(8,"h4"),s(9,"Issue Certificate"),i(),o(10,"p"),s(11,"Award certificates upon course completion"),i()(),o(12,"label",142)(13,"input",89),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.certificateEnabled,e)||(n.course.certificateEnabled=e),p(e)}),i(),S(14,"span",143),i()(),o(15,"div",140)(16,"div",141)(17,"h4"),s(18,"Sequential Learning"),i(),o(19,"p"),s(20,"Require students to complete sessions in order"),i()(),o(21,"label",142)(22,"input",89),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.requireSequentialProgress,e)||(n.course.requireSequentialProgress=e),p(e)}),i(),S(23,"span",143),i()(),o(24,"div",140)(25,"div",141)(26,"h4"),s(27,"Require Final Assessment"),i(),o(28,"p"),s(29,"Students must pass a final quiz to complete"),i()(),o(30,"label",142)(31,"input",89),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.requireFinalAssessment,e)||(n.course.requireFinalAssessment=e),p(e)}),i(),S(32,"span",143),i()(),v(33,tt,4,1,"div",105),o(34,"div",140)(35,"div",141)(36,"h4"),s(37,"Enable Discussions"),i(),o(38,"p"),s(39,"Allow students to discuss in the course"),i()(),o(40,"label",142)(41,"input",89),x("ngModelChange",function(e){u(t);let n=l();return C(n.course.discussionEnabled,e)||(n.course.discussionEnabled=e),p(e)}),i(),S(42,"span",143),i()()()()}if(a&2){let t=l();d(13),g("ngModel",t.course.certificateEnabled),d(9),g("ngModel",t.course.requireSequentialProgress),d(9),g("ngModel",t.course.requireFinalAssessment),d(2),M(t.course.requireFinalAssessment?33:-1),d(8),g("ngModel",t.course.discussionEnabled)}}function it(a,_){if(a&1){let t=b();o(0,"button",145),h("click",function(){u(t);let e=l();return p(e.previousStep())}),o(1,"span"),s(2,"\u2190"),i(),s(3," Previous"),i()}}function ot(a,_){if(a&1){let t=b();o(0,"button",146),h("click",function(){u(t);let e=l();return p(e.nextStep())}),s(1,"Next "),o(2,"span"),s(3,"\u2192"),i()()}}var bt=(()=>{class a{thumbnailInput;videoInput;sessionVideoInput;sessionPdfInput;router=V(Z);route=V(G);courseService=V(ce);dashboardService=V(_e);settingsService=V(ue);fileUploadService=V(pe);toastr=V(J);apiUrl=K.apiUrl;isEditMode=w(!1);saving=w(!1);instructors=w([]);categories=w([]);activeStep=w("basic");pricingType=w("free");siteCurrency=w("EGP");uploadingThumbnail=w(!1);uploadingVideo=w(!1);thumbnailProgress=w(0);videoProgress=w(0);thumbnailPreview=w(null);videoPreview=w(null);videoFileName=w("");promoVideoSource="upload";currentSessionUpload=null;steps=[{id:"basic",label:"Basic Info"},{id:"media",label:"Media"},{id:"curriculum",label:"Curriculum"},{id:"pricing",label:"Pricing"},{id:"settings",label:"Settings"}];course={nameEn:"",nameAr:"",descriptionEn:"",descriptionAr:"",instructorId:null,categoryId:null,level:"Beginner",language:"en",price:0,discountPrice:null,durationInHours:10,thumbnailUrl:"",trailerVideoUrl:"",whatYouWillLearnEn:"",requirementsEn:"",certificateEnabled:!0,requireSequentialProgress:!0,requireFinalAssessment:!1,finalAssessmentPassingScore:70,discussionEnabled:!0};modules=w([{title:"Getting Started",titleAr:"\u0627\u0644\u0628\u062F\u0627\u064A\u0629",description:"",sessions:[{title:"Introduction",titleAr:"\u0645\u0642\u062F\u0645\u0629",type:"Video",contentType:"upload",duration:10,isFree:!0,sortOrder:0}],sortOrder:0}]);ngOnInit(){this.loadInstructors(),this.loadCategories(),this.loadSiteSettings();let t=this.route.snapshot.queryParamMap.get("id");t&&(this.isEditMode.set(!0),this.loadCourse(t))}loadInstructors(){this.dashboardService.getInstructors().subscribe({next:t=>this.instructors.set(t),error:()=>this.toastr.error("Failed to load instructors")})}loadCategories(){this.settingsService.getCategories().subscribe({next:t=>this.categories.set(t||[]),error:()=>this.toastr.error("Failed to load categories")})}loadSiteSettings(){this.settingsService.getAllSettings().subscribe({next:t=>{let r=t?.find(e=>e.key==="site.currency"||e.key==="currency");r&&this.siteCurrency.set(r.value||"EGP")}})}getCurrencySymbol(){let t=this.siteCurrency();return{USD:"$",EUR:"\u20AC",GBP:"\xA3",SAR:"\u0631.\u0633",AED:"\u062F.\u0625",EGP:"\u062C.\u0645"}[t]||t}getMediaUrl(t){return t?t.startsWith("http")||t.startsWith("data:")?t:`${this.apiUrl.replace("/api","")}${t.startsWith("/")?"":"/"}${t}`:""}loadCourse(t){this.courseService.getCourseWithContent(t).subscribe({next:r=>{if(r.isSuccess&&r.data){let e=r.data;if(this.course={nameEn:e.nameEn,nameAr:e.nameAr,descriptionEn:e.descriptionEn,descriptionAr:e.descriptionAr,instructorId:e.instructor?.id,categoryId:e.category?.id,level:e.level,language:"en",price:e.price,discountPrice:e.discountPrice,durationInHours:e.durationHours||e.durationInHours,thumbnailUrl:e.thumbnailUrl,trailerVideoUrl:e.previewVideoUrl||e.trailerVideoUrl,whatYouWillLearnEn:e.whatYouWillLearnEn,requirementsEn:e.requirementsEn,certificateEnabled:!0,requireSequentialProgress:e.requireSequentialProgress,requireFinalAssessment:e.requireFinalAssessment,finalAssessmentPassingScore:e.finalAssessmentPassingScore||70,discussionEnabled:!0},e.thumbnailUrl&&this.thumbnailPreview.set(e.thumbnailUrl),e.previewVideoUrl||e.trailerVideoUrl){this.videoPreview.set((e.previewVideoUrl||e.trailerVideoUrl)??null);let n=e.previewVideoUrl||e.trailerVideoUrl||"";this.promoVideoSource=n.includes("youtube")||n.includes("vimeo")?"link":"upload"}this.pricingType.set(e.price>0?"paid":"free"),e.modules&&e.modules.length>0&&this.modules.set(e.modules.map((n,c)=>({id:n.id,title:n.nameEn||"",titleAr:n.nameAr||"",description:n.descriptionEn||"",sortOrder:c,sessions:(n.sessions||[]).map((m,f)=>({id:m.id,title:m.nameEn||"",titleAr:m.nameAr||"",type:this.mapSessionType(m.type,m),contentType:m.videoUrl?.includes("http")&&!m.videoUrl?.includes(this.apiUrl)?"link":"upload",videoUrl:m.videoUrl,pdfUrl:m.pdfUrl,content:m.content,externalLink:m.externalLink,duration:m.durationInMinutes||m.durationMinutes||0,isFree:m.isFreePreview||m.isFree||!1,sortOrder:f,quizQuestions:m.quizQuestions||[],quizPassingScore:m.quizPassingScore,quizTimeLimit:m.quizTimeLimit}))})))}},error:()=>this.toastr.error("Failed to load course")})}mapSessionType(t,r){if(r?.pdfUrl)return"PDF";if(r?.content&&!r?.videoUrl)return"Article";if(r?.quizQuestions&&r?.quizQuestions.length>0)return"Quiz";let e={0:"Video",1:"Video",2:"Video",3:"Article",4:"Quiz",5:"Assignment"};if(typeof t=="string"){let n=t.toLowerCase();return n==="pdf"?"PDF":n==="article"?"Article":n==="quiz"?"Quiz":n==="live"?"Live":"Video"}return typeof t=="number"&&e[t]||"Video"}activeStepIndex(){return this.steps.findIndex(t=>t.id===this.activeStep())}isStepCompleted(t){return t==="basic"?!!(this.course.nameEn&&this.course.instructorId&&this.course.categoryId):t==="media"?!!this.thumbnailPreview():t==="curriculum"?this.modules().length>0:!0}previousStep(){let t=this.activeStepIndex();t>0&&this.activeStep.set(this.steps[t-1].id)}nextStep(){let t=this.activeStepIndex();t<this.steps.length-1&&this.activeStep.set(this.steps[t+1].id)}isValid(){return!!(this.course.nameEn&&this.course.instructorId&&this.course.categoryId)}onThumbnailSelected(t){let r=t.target;if(r.files&&r.files[0]){let e=r.files[0],n=new FileReader;n.onload=c=>this.thumbnailPreview.set(c.target?.result),n.readAsDataURL(e),this.uploadingThumbnail.set(!0),this.thumbnailProgress.set(0),this.fileUploadService.uploadImage(e).subscribe({next:c=>{c.status==="progress"?this.thumbnailProgress.set(c.percentage||0):c.status==="complete"&&c.response?.data?.url?(this.course.thumbnailUrl=c.response.data.url,this.thumbnailPreview.set(c.response.data.url),this.toastr.success("Thumbnail uploaded"),this.uploadingThumbnail.set(!1)):c.status==="error"&&(this.toastr.error(c.error||"Failed"),this.uploadingThumbnail.set(!1))},error:()=>{this.toastr.error("Failed to upload thumbnail"),this.uploadingThumbnail.set(!1)}})}}onVideoSelected(t){let r=t.target;if(r.files&&r.files[0]){let e=r.files[0];this.videoFileName.set(e.name),this.videoPreview.set("uploading"),this.uploadingVideo.set(!0),this.videoProgress.set(0),this.fileUploadService.uploadVideo(e).subscribe({next:n=>{n.status==="progress"?this.videoProgress.set(n.percentage||0):n.status==="complete"&&n.response?.data?.url?(this.course.trailerVideoUrl=n.response.data.url,this.videoPreview.set(n.response.data.url),this.toastr.success("Video uploaded"),this.uploadingVideo.set(!1)):n.status==="error"&&(this.toastr.error(n.error||"Failed"),this.videoPreview.set(null),this.uploadingVideo.set(!1))},error:()=>{this.toastr.error("Failed to upload video"),this.videoPreview.set(null),this.uploadingVideo.set(!1)}})}}removeThumbnail(t){t.stopPropagation(),this.thumbnailPreview.set(null),this.course.thumbnailUrl=""}removeVideo(t){t.stopPropagation(),this.videoPreview.set(null),this.videoFileName.set(""),this.course.trailerVideoUrl=""}addModule(){let t=this.modules();this.modules.set([...t,{title:"",titleAr:"",description:"",sessions:[],sortOrder:t.length}])}deleteModule(t){confirm("Delete this module?")&&this.modules.update(r=>r.filter((e,n)=>n!==t))}addSession(t){this.modules.update(r=>{let e=[...r];return e[t].sessions.push({title:"",titleAr:"",type:"Video",contentType:"upload",duration:0,isFree:!1,sortOrder:e[t].sessions.length}),e})}deleteSession(t,r){this.modules.update(e=>{let n=[...e];return n[t].sessions=n[t].sessions.filter((c,m)=>m!==r),n})}onSessionTypeChange(t,r){this.modules.update(e=>{let n=[...e],c=n[t].sessions[r];return c.type==="Quiz"&&(!c.quizQuestions||c.quizQuestions.length===0)&&(c.quizQuestions=[],c.quizPassingScore=70,c.quizTimeLimit=30),(c.type==="PDF"||c.type==="Article"||c.type==="Quiz")&&(c.contentType="upload"),n})}uploadSessionContent(t,r,e){this.currentSessionUpload={moduleIndex:t,sessionIndex:r,type:e},e==="video"?this.sessionVideoInput.nativeElement.click():this.sessionPdfInput.nativeElement.click()}onSessionContentSelected(t,r){let e=t.target;if(e.files&&e.files[0]&&this.currentSessionUpload){let n=e.files[0],{moduleIndex:c,sessionIndex:m}=this.currentSessionUpload;this.toastr.info(`Uploading ${r}...`),(r==="video"?this.fileUploadService.uploadVideo(n):this.fileUploadService.uploadDocument(n)).subscribe({next:P=>{P.status==="complete"&&P.response?.data?.url?(this.modules.update(me=>{let U=[...me];return r==="video"?U[c].sessions[m].videoUrl=P.response.data.url:U[c].sessions[m].pdfUrl=P.response.data.url,U}),this.toastr.success(`${r==="video"?"Video":"PDF"} uploaded`)):P.status==="error"&&this.toastr.error(P.error||"Failed")},error:()=>this.toastr.error(`Failed to upload ${r}`)})}this.currentSessionUpload=null,e.value=""}addQuizQuestion(t,r){this.modules.update(e=>{let n=[...e],c=n[t].sessions[r];return c.quizQuestions||(c.quizQuestions=[]),c.quizQuestions.push({questionEn:"",questionAr:"",type:"single",points:1,options:[{textEn:"",textAr:"",isCorrect:!1},{textEn:"",textAr:"",isCorrect:!1}]}),n})}deleteQuizQuestion(t,r,e){this.modules.update(n=>{let c=[...n];return c[t].sessions[r].quizQuestions=c[t].sessions[r].quizQuestions?.filter((m,f)=>f!==e),c})}addQuizOption(t,r,e){this.modules.update(n=>{let c=[...n];return c[t].sessions[r].quizQuestions[e].options.push({textEn:"",textAr:"",isCorrect:!1}),c})}deleteQuizOption(t,r,e,n){this.modules.update(c=>{let m=[...c];return m[t].sessions[r].quizQuestions[e].options=m[t].sessions[r].quizQuestions[e].options.filter((f,P)=>P!==n),m})}setTrueFalseAnswer(t,r,e,n){this.modules.update(c=>{let m=[...c],f=m[t].sessions[r].quizQuestions[e];return f.options=[{textEn:"True",textAr:"\u0635\u062D\u064A\u062D",isCorrect:n},{textEn:"False",textAr:"\u062E\u0637\u0623",isCorrect:!n}],m})}saveCourse(t){if(!this.course.nameEn){this.toastr.error("Course title (English) is required"),this.activeStep.set("basic");return}if(!this.course.instructorId){this.toastr.error("Please select an instructor"),this.activeStep.set("basic");return}if(!this.course.categoryId){this.toastr.error("Please select a category"),this.activeStep.set("basic");return}this.saving.set(!0);let r={nameEn:this.course.nameEn,nameAr:this.course.nameAr||this.course.nameEn,descriptionEn:this.course.descriptionEn,descriptionAr:this.course.descriptionAr,instructorId:this.course.instructorId,categoryId:this.course.categoryId,level:this.course.level,type:this.pricingType()==="free"?1:2,price:this.pricingType()==="free"?0:this.course.price||0,discountPrice:this.course.discountPrice,currency:this.siteCurrency(),durationInHours:this.course.durationInHours||0,thumbnailUrl:this.course.thumbnailUrl,trailerVideoUrl:this.course.trailerVideoUrl,whatYouWillLearnEn:this.course.whatYouWillLearnEn,requirementsEn:this.course.requirementsEn,requireSequentialProgress:this.course.requireSequentialProgress,requireFinalAssessment:this.course.requireFinalAssessment,finalAssessmentPassingScore:this.course.finalAssessmentPassingScore||70,status:t==="Published"?"Published":"Draft",modules:this.modules().map((c,m)=>({id:c.id||void 0,nameEn:c.title||"Module "+(m+1),nameAr:c.titleAr||c.title||"\u0627\u0644\u0648\u062D\u062F\u0629 "+(m+1),descriptionEn:c.description,order:m,sortOrder:m,sessions:c.sessions.map((f,P)=>({id:f.id||void 0,nameEn:f.title||"Session "+(P+1),nameAr:f.titleAr||f.title||"\u0627\u0644\u062C\u0644\u0633\u0629 "+(P+1),type:f.type,durationMinutes:f.duration||0,videoUrl:f.type==="Video"?f.contentType==="link"?f.externalLink:f.videoUrl:void 0,pdfUrl:f.type==="PDF"?f.pdfUrl:void 0,content:f.type==="Article"?f.content:void 0,externalLink:f.type==="Live"?f.externalLink:void 0,isFree:f.isFree,isFreePreview:f.isFree,order:P,sortOrder:P,quizQuestions:f.type==="Quiz"?f.quizQuestions:void 0,quizPassingScore:f.type==="Quiz"?f.quizPassingScore:void 0,quizTimeLimit:f.type==="Quiz"?f.quizTimeLimit:void 0}))}))};console.log("Saving course data:",JSON.stringify(r,null,2));let e=this.route.snapshot.queryParamMap.get("id");(e?this.courseService.updateCourse(e,r):this.courseService.createCourse(r)).subscribe({next:c=>{this.saving.set(!1),c.isSuccess?(this.toastr.success(`Course ${t==="Published"?"published":"saved as draft"}!`),this.router.navigate(["/admin/courses"])):(this.toastr.error(c.messageEn||"Failed to save course"),console.error("Course save failed:",c))},error:c=>{this.saving.set(!1);let m=c?.error?.messageEn||c?.error?.message||c?.message||"Failed to save course";this.toastr.error(m),console.error("Course save error:",c)}})}goBack(){this.router.navigate(["/admin/courses"])}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=B({type:a,selectors:[["app-admin-create-course"]],viewQuery:function(r,e){if(r&1&&(W(ge,5),W(Ce,5),W(xe,5),W(fe,5)),r&2){let n;z(n=D())&&(e.thumbnailInput=n.first),z(n=D())&&(e.videoInput=n.first),z(n=D())&&(e.sessionVideoInput=n.first),z(n=D())&&(e.sessionPdfInput=n.first)}},standalone:!0,features:[$],decls:30,vars:12,consts:[["thumbnailInput",""],["videoInput",""],["sessionVideoInput",""],["sessionPdfInput",""],[1,"course-editor-page"],[1,"editor-header"],[1,"header-left"],[1,"back-btn",3,"click"],[1,"header-info"],[1,"subtitle"],[1,"header-actions"],[1,"save-draft-btn",3,"click","disabled"],[1,"publish-btn",3,"click","disabled"],[1,"spinner"],[1,"editor-content"],[1,"editor-sidebar"],[1,"step-nav"],[1,"step-item",3,"active","completed"],[1,"editor-main"],[1,"step-content"],[1,"step-navigation"],[1,"prev-btn"],[1,"next-btn"],[1,"step-item",3,"click"],[1,"step-number"],[1,"step-label"],[1,"check"],[1,"step-desc"],[1,"form-row"],[1,"form-group"],["type","text","placeholder","Enter course title",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062F\u0648\u0631\u0629",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"ngValue"],["value","Beginner"],["value","Intermediate"],["value","Advanced"],["type","number","min","1",3,"ngModelChange","ngModel"],["value","en"],["value","ar"],["value","both"],["rows","3","placeholder","Brief description of the course...",3,"ngModelChange","ngModel"],["rows","3","dir","rtl","placeholder","\u0648\u0635\u0641 \u0645\u062E\u062A\u0635\u0631 \u0644\u0644\u062F\u0648\u0631\u0629...",3,"ngModelChange","ngModel"],["rows","4","placeholder",`\u2022 Key learning outcomes
\u2022 Skills students will gain`,3,"ngModelChange","ngModel"],["rows","3","placeholder",`\u2022 Prerequisites
\u2022 Required knowledge`,3,"ngModelChange","ngModel"],[1,"media-section"],[1,"upload-area"],[1,"upload-box",3,"click"],[1,"upload-placeholder"],[1,"upload-progress"],["type","file","accept","image/*","hidden","",3,"change"],[1,"video-source-toggle"],[3,"click"],[1,"link-input-area"],["alt","Thumbnail Preview",3,"src"],[1,"remove-btn",3,"click"],[1,"upload-icon"],[1,"progress-bar"],[1,"video-preview"],["type","file","accept","video/*","hidden","",3,"change"],["controls","",2,"max-width","100%","max-height","200px",3,"src"],["type","url","placeholder","Paste YouTube, Vimeo, or direct video URL",1,"link-input",3,"ngModelChange","ngModel"],[1,"link-preview"],[1,"modules-container"],[1,"module-card"],[1,"add-module-btn",3,"click"],["type","file","accept",".pdf,application/pdf","hidden","",3,"change"],[1,"module-header"],[1,"module-drag"],[1,"module-title-group"],["type","text","placeholder","Module title (English)",1,"module-title-input",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0648\u062D\u062F\u0629",1,"module-title-input","ar",3,"ngModelChange","ngModel"],[1,"module-actions"],[1,"add-session-btn",3,"click"],[1,"delete-module-btn",3,"click"],[1,"sessions-list"],[1,"session-card"],[1,"empty-sessions"],[1,"session-header"],[1,"session-drag"],[1,"session-type",3,"ngModelChange","ngModel"],["value","Video"],["value","PDF"],["value","Article"],["value","Quiz"],["value","Live"],["type","text","placeholder","Session title",1,"session-title-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Min","min","0",1,"session-duration",3,"ngModelChange","ngModel"],[1,"free-toggle"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"session-delete-btn",3,"click"],[1,"session-content-area"],[1,"upload-row"],["rows","5","placeholder","Enter article content here...",1,"article-content",3,"ngModel"],[1,"quiz-settings"],["type","url","placeholder","Enter meeting link (Zoom, Google Meet, etc.)",1,"content-link-input",3,"ngModel"],[1,"content-type-toggle"],["type","url","placeholder","Paste YouTube, Vimeo, or direct video URL",1,"content-link-input",3,"ngModel"],[1,"upload-content-btn",3,"click"],[1,"content-uploaded"],["controls","",1,"preview-video",3,"src"],["type","url","placeholder","Paste YouTube, Vimeo, or direct video URL",1,"content-link-input",3,"ngModelChange","ngModel"],["target","_blank",1,"view-pdf-link",3,"href"],["rows","5","placeholder","Enter article content here...",1,"article-content",3,"ngModelChange","ngModel"],[1,"quiz-config"],[1,"form-group","inline"],["type","number","min","0","max","100","placeholder","70",3,"ngModelChange","ngModel"],["type","number","min","0","placeholder","30",3,"ngModelChange","ngModel"],[1,"add-question-btn",3,"click"],[1,"question-card"],[1,"question-header"],[1,"q-number"],[1,"q-type",3,"ngModelChange","ngModel"],["value","single"],["value","multiple"],["value","true-false"],["type","number","placeholder","Points","min","1",1,"q-points",3,"ngModelChange","ngModel"],[1,"q-delete",3,"click"],["type","text","placeholder","Question text (English)",1,"q-text",3,"ngModelChange","ngModel"],["type","text","placeholder","\u0646\u0635 \u0627\u0644\u0633\u0624\u0627\u0644 (Arabic)","dir","rtl",1,"q-text",3,"ngModelChange","ngModel"],[1,"tf-options"],[1,"options-list"],["type","radio",3,"change","name","checked"],[1,"option-row"],[1,"add-option-btn",3,"click"],["type","checkbox","title","Mark as correct",3,"ngModelChange","ngModel"],["type","text","placeholder","Option text",1,"opt-input",3,"ngModelChange","ngModel"],[1,"opt-delete",3,"click"],["type","url","placeholder","Enter meeting link (Zoom, Google Meet, etc.)",1,"content-link-input",3,"ngModelChange","ngModel"],[1,"pricing-options"],[1,"pricing-option"],["type","radio","name","pricingType","value","free",3,"change","checked"],[1,"option-content"],[1,"option-icon"],["type","radio","name","pricingType","value","paid",3,"change","checked"],[1,"price-inputs"],[1,"price-input-wrapper"],[1,"currency"],["type","number","min","0","step","0.01",3,"ngModelChange","ngModel"],[1,"settings-list"],[1,"setting-item"],[1,"setting-info"],[1,"toggle"],[1,"slider"],["type","number","min","0","max","100",2,"width","100px",3,"ngModelChange","ngModel"],[1,"prev-btn",3,"click"],[1,"next-btn",3,"click"]],template:function(r,e){r&1&&(o(0,"div",4)(1,"div",5)(2,"div",6)(3,"button",7),h("click",function(){return e.goBack()}),s(4,"\u2190"),i(),o(5,"div",8)(6,"h1"),s(7),i(),o(8,"span",9),s(9,"Admin Course Editor"),i()()(),o(10,"div",10)(11,"button",11),h("click",function(){return e.saveCourse("Draft")}),s(12," Save Draft "),i(),o(13,"button",12),h("click",function(){return e.saveCourse("Published")}),v(14,be,1,0,"span",13),s(15),i()()(),o(16,"div",14)(17,"aside",15)(18,"nav",16),A(19,we,6,7,"button",17,Q),i()(),o(21,"main",18),v(22,Pe,72,13,"div",19)(23,We,25,7,"div",19)(24,Ke,14,0,"div",19)(25,et,25,8,"div",19)(26,nt,43,5,"div",19),o(27,"div",20),v(28,it,4,0,"button",21)(29,ot,4,0,"button",22),i()()()()),r&2&&(d(7),F(e.isEditMode()?"Edit Course":"Create New Course"),d(4),y("disabled",e.saving()),d(2),y("disabled",e.saving()||!e.isValid()),d(),M(e.saving()?14:-1),d(),E(" ",e.isEditMode()?"Update & Publish":"Create & Publish"," "),d(4),k(e.steps),d(3),M(e.activeStep()==="basic"?22:-1),d(),M(e.activeStep()==="media"?23:-1),d(),M(e.activeStep()==="curriculum"?24:-1),d(),M(e.activeStep()==="pricing"?25:-1),d(),M(e.activeStep()==="settings"?26:-1),d(2),M(e.activeStepIndex()>0?28:-1),d(),M(e.activeStepIndex()<e.steps.length-1?29:-1))},dependencies:[j,H,de,re,ae,ee,ie,X,oe,te,le,se,ne],styles:['.course-editor-page[_ngcontent-%COMP%]{min-height:100vh;background:#f8f9fa}.editor-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:#fff;border-bottom:1px solid #e0e0e0;position:sticky;top:0;z-index:100}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.back-btn[_ngcontent-%COMP%]{width:40px;height:40px;background:#f8f9fa;border:none;border-radius:8px;cursor:pointer;font-size:1.25rem}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;margin-bottom:.125rem}.header-info[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.header-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem}.save-draft-btn[_ngcontent-%COMP%], .publish-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;border-radius:8px;font-weight:600;cursor:pointer}.save-draft-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #247090;color:#247090}.publish-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#247090,#1a5570);border:none;color:#fff}.publish-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.editor-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:260px 1fr;min-height:calc(100vh - 70px)}.editor-sidebar[_ngcontent-%COMP%]{background:#fff;border-right:1px solid #e0e0e0;padding:1.5rem}.step-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.step-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.875rem 1rem;background:none;border:none;border-radius:10px;cursor:pointer;text-align:left}.step-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.step-item.active[_ngcontent-%COMP%]{background:#e8f4f8}.step-number[_ngcontent-%COMP%]{width:28px;height:28px;background:#e0e0e0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.85rem;font-weight:600;color:#666}.step-item.active[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#247090;color:#fff}.step-item.completed[_ngcontent-%COMP%]   .step-number[_ngcontent-%COMP%]{background:#28a745;color:#fff}.step-label[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#666}.step-item.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#247090;font-weight:600}.check[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.editor-main[_ngcontent-%COMP%]{padding:2rem;max-width:900px}.step-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:.5rem}.step-desc[_ngcontent-%COMP%]{color:#666;margin-bottom:2rem}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid #e0e0e0;border-radius:8px;font-size:1rem}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#247090}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;font-family:inherit}.media-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.upload-area[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem}.upload-box[_ngcontent-%COMP%]{aspect-ratio:16/9;border:2px dashed #e0e0e0;border-radius:12px;cursor:pointer;overflow:hidden;position:relative;display:flex;align-items:center;justify-content:center}.upload-box[_ngcontent-%COMP%]:hover{border-color:#247090;background:#f8f9fa}.upload-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.upload-placeholder[_ngcontent-%COMP%]{text-align:center;padding:2rem}.upload-icon[_ngcontent-%COMP%]{font-size:3rem;display:block;margin-bottom:.5rem}.upload-placeholder[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.25rem}.upload-placeholder[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.85rem}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem;width:28px;height:28px;background:#dc3545e6;color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:1.25rem;line-height:1}.upload-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;background:#000000b3;padding:.5rem;color:#fff;text-align:center}.progress-bar[_ngcontent-%COMP%]{height:4px;background:#28a745;border-radius:2px;margin-bottom:.25rem}.video-source-toggle[_ngcontent-%COMP%], .content-type-toggle[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:.75rem}.video-source-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .content-type-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;padding:.5rem;background:#f8f9fa;border:1px solid #e0e0e0;border-radius:6px;cursor:pointer;font-size:.85rem}.video-source-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%], .content-type-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#247090;color:#fff;border-color:#247090}.link-input-area[_ngcontent-%COMP%]{padding:1rem;background:#f8f9fa;border-radius:8px}.link-input[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e0e0e0;border-radius:6px}.link-preview[_ngcontent-%COMP%]{margin-top:.5rem;font-size:.85rem;color:#666}.modules-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.module-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:12px;overflow:hidden}.module-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;background:#f8f9fa;border-bottom:1px solid #e0e0e0}.module-drag[_ngcontent-%COMP%]{color:#999;cursor:grab}.module-title-group[_ngcontent-%COMP%]{flex:1;display:flex;gap:.5rem}.module-title-input[_ngcontent-%COMP%]{flex:1;padding:.5rem .75rem;border:1px solid #e0e0e0;border-radius:6px;font-size:.95rem;font-weight:500}.module-title-input.ar[_ngcontent-%COMP%]{direction:rtl}.module-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.add-session-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;padding:.5rem .75rem;background:#247090;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.85rem}.delete-module-btn[_ngcontent-%COMP%]{padding:.5rem;background:none;border:none;cursor:pointer;font-size:1rem}.sessions-list[_ngcontent-%COMP%]{padding:1rem}.session-card[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;margin-bottom:.75rem;overflow:hidden}.session-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem;border-bottom:1px solid #e8e8e8}.session-drag[_ngcontent-%COMP%]{color:#999;cursor:grab}.session-type[_ngcontent-%COMP%]{width:140px;padding:.5rem;border:1px solid #e0e0e0;border-radius:6px}.session-title-input[_ngcontent-%COMP%]{flex:1;padding:.5rem .75rem;border:1px solid #e0e0e0;border-radius:6px}.session-duration[_ngcontent-%COMP%]{width:70px;padding:.5rem;border:1px solid #e0e0e0;border-radius:6px;text-align:center}.free-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.85rem;color:#666;cursor:pointer}.session-delete-btn[_ngcontent-%COMP%]{padding:.375rem .5rem;background:none;border:none;cursor:pointer;font-size:1rem;color:#dc3545}.session-content-area[_ngcontent-%COMP%]{padding:.75rem}.upload-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex-wrap:wrap}.upload-content-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#f0f0f0;border:1px dashed #999;border-radius:6px;cursor:pointer}.upload-content-btn[_ngcontent-%COMP%]:hover{background:#e8e8e8}.content-uploaded[_ngcontent-%COMP%]{color:#28a745;font-size:.85rem}.preview-video[_ngcontent-%COMP%]{max-width:200px;max-height:120px;border-radius:6px;margin-top:.5rem}.view-pdf-link[_ngcontent-%COMP%]{color:#247090;text-decoration:none;font-size:.85rem}.view-pdf-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.content-link-input[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #e0e0e0;border-radius:6px}.article-content[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid #e0e0e0;border-radius:6px;font-family:inherit;resize:vertical}.quiz-settings[_ngcontent-%COMP%]{padding:.5rem 0}.quiz-config[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.quiz-config[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;gap:.5rem}.quiz-config[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;font-size:.85rem}.quiz-config[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:70px;padding:.4rem}.add-question-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background:#247090;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.85rem;margin-bottom:1rem}.question-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e0e0e0;border-radius:8px;padding:1rem;margin-bottom:.75rem}.question-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.75rem}.q-number[_ngcontent-%COMP%]{background:#247090;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.8rem;font-weight:600}.q-type[_ngcontent-%COMP%]{padding:.4rem;border:1px solid #e0e0e0;border-radius:4px;font-size:.85rem}.q-points[_ngcontent-%COMP%]{width:60px;padding:.4rem;border:1px solid #e0e0e0;border-radius:4px;text-align:center}.q-delete[_ngcontent-%COMP%]{margin-left:auto;background:none;border:none;color:#dc3545;cursor:pointer}.q-text[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #e0e0e0;border-radius:6px;margin-bottom:.5rem}.tf-options[_ngcontent-%COMP%]{display:flex;gap:1rem;padding:.5rem 0}.tf-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;cursor:pointer}.options-list[_ngcontent-%COMP%]{margin-top:.5rem}.option-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem}.option-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px}.opt-input[_ngcontent-%COMP%]{flex:1;padding:.4rem .6rem;border:1px solid #e0e0e0;border-radius:4px}.opt-delete[_ngcontent-%COMP%]{background:none;border:none;color:#dc3545;cursor:pointer}.add-option-btn[_ngcontent-%COMP%]{padding:.4rem .8rem;background:#f0f0f0;border:1px dashed #999;border-radius:4px;cursor:pointer;font-size:.85rem}.empty-sessions[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:#999}.add-module-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:#fff;border:2px dashed #e0e0e0;border-radius:12px;cursor:pointer;font-weight:600;color:#666}.add-module-btn[_ngcontent-%COMP%]:hover{border-color:#247090;color:#247090}.pricing-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:2rem}.pricing-option[_ngcontent-%COMP%]{display:block;padding:1.5rem;background:#fff;border:2px solid #e0e0e0;border-radius:12px;cursor:pointer}.pricing-option[_ngcontent-%COMP%]:hover{border-color:#247090}.pricing-option.active[_ngcontent-%COMP%]{border-color:#247090;background:#e8f4f8}.pricing-option[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.option-content[_ngcontent-%COMP%]{text-align:center}.option-icon[_ngcontent-%COMP%]{font-size:2rem;display:block;margin-bottom:.5rem}.option-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.25rem}.option-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.price-inputs[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;border:1px solid #e0e0e0}.price-input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.currency[_ngcontent-%COMP%]{padding:.75rem 1rem;background:#f8f9fa;border:2px solid #e0e0e0;border-right:none;border-radius:8px 0 0 8px;font-weight:600}.price-input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:0 8px 8px 0}.settings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.setting-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem 1.5rem;background:#fff;border-radius:12px;border:1px solid #e0e0e0}.setting-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.25rem}.setting-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.toggle[_ngcontent-%COMP%]{position:relative;width:50px;height:26px}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background:#ccc;border-radius:26px;transition:.3s}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:20px;width:20px;left:3px;bottom:3px;background:#fff;border-radius:50%;transition:.3s}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background:#247090}.toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(24px)}.form-group.inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;background:#fff;border-radius:12px;border:1px solid #e0e0e0}.form-group.inline[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0}.step-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:2rem;padding-top:2rem;border-top:1px solid #e0e0e0}.prev-btn[_ngcontent-%COMP%], .next-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;cursor:pointer}.prev-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;color:#333}.next-btn[_ngcontent-%COMP%]{background:#247090;border:none;color:#fff;margin-left:auto}@media (max-width: 768px){.editor-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.editor-sidebar[_ngcontent-%COMP%]{display:none}.form-row[_ngcontent-%COMP%], .media-section[_ngcontent-%COMP%], .pricing-options[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}return a})();export{bt as AdminCreateCourseComponent};
