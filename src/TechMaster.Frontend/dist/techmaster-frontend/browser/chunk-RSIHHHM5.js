import{a as L}from"./chunk-QE2MCLLX.js";import{a as I}from"./chunk-ZAODAAZN.js";import{a as j}from"./chunk-UYI4POZX.js";import"./chunk-JLLNXAHD.js";import{d as T}from"./chunk-SAC5YDHM.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as f,Ab as n,Bb as s,Cb as C,Ja as u,Jb as S,Lb as w,Mb as E,Na as o,Ob as k,W as p,Wa as d,Y as y,a as M,b as O,cb as m,db as h,gb as v,ic as D,jb as x,kb as b,lb as t,mb as e,mc as z,nb as _,tb as g}from"./chunk-Q5RFH5SI.js";var P=(r,c)=>c.id,B=r=>["/student/learn",r];function N(r,c){r&1&&(t(0,"div",19)(1,"span",5),n(2,"school"),e(),t(3,"h3"),n(4,"No enrollments yet"),e(),t(5,"p"),n(6,"Start your learning journey by enrolling in a course"),e(),t(7,"a",4),n(8,"Browse Courses"),e()())}function F(r,c){if(r&1&&(t(0,"div",26)(1,"div",27),_(2,"img",28),t(3,"div",29)(4,"div",30)(5,"span"),n(6),e()()()(),t(7,"div",31)(8,"h3"),n(9),e(),t(10,"p"),n(11),e(),t(12,"div",32),_(13,"div",33),e(),t(14,"div",34)(15,"a",35),n(16," Continue "),e()()()()),r&2){let i=c.$implicit,l=g(2);o(2),m("src",l.mediaService.getCourseThumbnail(i.courseThumbnail),u)("alt",i.courseTitle),o(2),h("--progress",i.progress+"%"),o(2),C("",i.progress,"%"),o(3),s(i.courseTitle),o(2),s(i.instructorName),o(2),h("width",i.progress,"%"),o(2),m("routerLink",w(10,B,i.courseId))}}function U(r,c){if(r&1&&(t(0,"div",20),x(1,F,17,12,"div",26,P),e()),r&2){let i=g();o(),b(i.enrollments().slice(0,3))}}function X(r,c){r&1&&(t(0,"div",23)(1,"span",5),n(2,"verified"),e(),t(3,"p"),n(4,"Complete courses to earn certificates"),e()())}function A(r,c){if(r&1&&(t(0,"div",36)(1,"div",37)(2,"span",5),n(3,"workspace_premium"),e()(),t(4,"div",38)(5,"h4"),n(6),e(),t(7,"span"),n(8),E(9,"date"),e()(),t(10,"a",39),n(11," View "),e()()),r&2){let i=c.$implicit;o(6),s(i.courseTitle),o(2),C("Issued ",k(9,3,i.issuedAt,"mediumDate"),""),o(2),m("href",i.certificateUrl,u)}}function $(r,c){if(r&1&&(t(0,"div",24),x(1,A,12,6,"div",36,P),e()),r&2){let i=g();o(),b(i.certificates().slice(0,3))}}function V(r,c){r&1&&(t(0,"div",23)(1,"span",5),n(2,"military_tech"),e(),t(3,"p"),n(4,"Keep learning to earn badges"),e()())}function K(r,c){if(r&1&&(t(0,"div",40),_(1,"img",28),t(2,"span"),n(3),e()()),r&2){let i=c.$implicit;m("title",i.description),o(),m("src",i.iconUrl||"assets/images/badge-placeholder.png",u)("alt",i.name),o(2),s(i.name)}}function R(r,c){if(r&1&&(t(0,"div",25),x(1,K,4,4,"div",40,P),e()),r&2){let i=g();o(),b(i.badges())}}var te=(()=>{class r{authService=p(I);dashboardService=p(L);mediaService=p(j);userName=d("Student");enrollments=d([]);certificates=d([]);badges=d([]);totalXP=d(0);isLoading=d(!0);ngOnInit(){let i=this.authService.getCurrentUser();i&&this.userName.set(i.firstName||"Student"),this.loadDashboardData()}loadDashboardData(){this.isLoading.set(!0),this.dashboardService.getStudentDashboard().subscribe({next:i=>{if(i){let l=(i.enrollments||i.recentEnrollments||[]).map(a=>O(M({},a),{courseTitle:a.courseTitle||a.courseName||"",progress:a.progress||a.progressPercentage||0}));this.enrollments.set(l),this.certificates.set(i.certificates||[]),this.badges.set(i.badges||i.recentBadges||[]),this.totalXP.set(i.totalXp||0)}this.isLoading.set(!1)},error:()=>{this.isLoading.set(!1)}})}static \u0275fac=function(l){return new(l||r)};static \u0275cmp=y({type:r,selectors:[["app-student-dashboard"]],standalone:!0,features:[S],decls:73,vars:8,consts:[[1,"dashboard"],[1,"dashboard-header"],[1,"welcome-section"],[1,"header-actions"],["routerLink","/courses",1,"btn","btn-primary"],[1,"material-icons"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","courses"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","certificates"],[1,"stat-icon","badges"],[1,"stat-icon","xp"],[1,"dashboard-content"],[1,"dashboard-section"],[1,"section-header"],["routerLink","/student/my-courses",1,"view-all"],[1,"empty-state"],[1,"courses-grid"],[1,"two-column"],["routerLink","/student/certificates",1,"view-all"],[1,"empty-state","small"],[1,"certificates-list"],[1,"badges-grid"],[1,"course-progress-card"],[1,"course-image"],[3,"src","alt"],[1,"progress-overlay"],[1,"progress-circle"],[1,"course-info"],[1,"progress-bar"],[1,"progress-fill"],[1,"course-actions"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],[1,"certificate-item"],[1,"cert-icon"],[1,"cert-info"],["target","_blank",1,"btn","btn-outline","btn-sm",3,"href"],[1,"badge-item",3,"title"]],template:function(l,a){l&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),n(4),e(),t(5,"p"),n(6,"Continue your learning journey"),e()(),t(7,"div",3)(8,"a",4)(9,"span",5),n(10,"add"),e(),n(11," Browse Courses "),e()()(),t(12,"div",6)(13,"div",7)(14,"div",8)(15,"span",5),n(16,"school"),e()(),t(17,"div",9)(18,"span",10),n(19),e(),t(20,"span",11),n(21,"My Courses"),e()()(),t(22,"div",7)(23,"div",12)(24,"span",5),n(25,"verified"),e()(),t(26,"div",9)(27,"span",10),n(28),e(),t(29,"span",11),n(30,"Certificates"),e()()(),t(31,"div",7)(32,"div",13)(33,"span",5),n(34,"military_tech"),e()(),t(35,"div",9)(36,"span",10),n(37),e(),t(38,"span",11),n(39,"Badges"),e()()(),t(40,"div",7)(41,"div",14)(42,"span",5),n(43,"stars"),e()(),t(44,"div",9)(45,"span",10),n(46),e(),t(47,"span",11),n(48,"XP Points"),e()()()(),t(49,"div",15)(50,"section",16)(51,"div",17)(52,"h2"),n(53,"Continue Learning"),e(),t(54,"a",18),n(55,"View All"),e()(),f(56,N,9,0,"div",19)(57,U,3,0,"div",20),e(),t(58,"div",21)(59,"section",16)(60,"div",17)(61,"h2"),n(62,"Certificates"),e(),t(63,"a",22),n(64,"View All"),e()(),f(65,X,5,0,"div",23)(66,$,3,0,"div",24),e(),t(67,"section",16)(68,"div",17)(69,"h2"),n(70,"Badges"),e()(),f(71,V,5,0,"div",23)(72,R,3,0,"div",25),e()()()()),l&2&&(o(4),C("Welcome back, ",a.userName(),"! \u{1F44B}"),o(15),s(a.enrollments().length),o(9),s(a.certificates().length),o(9),s(a.badges().length),o(9),s(a.totalXP()),o(10),v(a.enrollments().length===0?56:57),o(9),v(a.certificates().length===0?65:66),o(6),v(a.badges().length===0?71:72))},dependencies:[z,D,T],styles:['.dashboard[_ngcontent-%COMP%]{padding:2rem;max-width:1400px;margin:0 auto}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.welcome-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--color-dark);margin-bottom:.25rem}.welcome-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-gray-600)}.header-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-card[_ngcontent-%COMP%]{background:var(--color-white);border-radius:16px;padding:1.5rem;display:flex;align-items:center;gap:1rem;box-shadow:0 4px 20px #0000000d}.stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:1.75rem;color:var(--color-white)}.stat-icon.courses[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8)}.stat-icon.certificates[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669)}.stat-icon.badges[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.stat-icon.xp[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8b5cf6,#6d28d9)}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:var(--color-dark)}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-gray-500)}.dashboard-section[_ngcontent-%COMP%]{background:var(--color-white);border-radius:16px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 4px 20px #0000000d}.section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem}.section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-dark)}.view-all[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:500;text-decoration:none}.view-all[_ngcontent-%COMP%]:hover{text-decoration:underline}.courses-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1.5rem}.course-progress-card[_ngcontent-%COMP%]{background:var(--color-gray-50);border-radius:12px;overflow:hidden}.course-image[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9}.course-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.progress-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0006;display:flex;align-items:center;justify-content:center}.progress-circle[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:conic-gradient(var(--color-primary) var(--progress),rgba(255,255,255,.2) 0);display:flex;align-items:center;justify-content:center}.progress-circle[_ngcontent-%COMP%]:before{content:"";position:absolute;width:60px;height:60px;border-radius:50%;background:#000c}.progress-circle[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1;color:#fff;font-weight:700;font-size:1rem}.course-info[_ngcontent-%COMP%]{padding:1rem}.course-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--color-dark);margin-bottom:.25rem;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.course-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem;color:var(--color-gray-500);margin-bottom:.75rem}.progress-bar[_ngcontent-%COMP%]{height:6px;background:var(--color-gray-200);border-radius:3px;overflow:hidden;margin-bottom:1rem}.progress-fill[_ngcontent-%COMP%]{height:100%;background:var(--color-primary);border-radius:3px;transition:width .3s ease}.course-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.two-column[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}.certificates-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.certificate-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem;background:var(--color-gray-50);border-radius:10px}.cert-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#10b981,#059669);display:flex;align-items:center;justify-content:center}.cert-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem}.cert-info[_ngcontent-%COMP%]{flex:1}.cert-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:var(--color-dark);margin-bottom:.25rem}.cert-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-gray-500)}.badges-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:1rem}.badge-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem;background:var(--color-gray-50);border-radius:10px;text-align:center;cursor:pointer;transition:transform .2s ease}.badge-item[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.badge-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;object-fit:contain}.badge-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-gray-600)}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:3rem 2rem}.empty-state.small[_ngcontent-%COMP%]{padding:2rem 1rem}.empty-state[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:4rem;color:var(--color-gray-300);margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--color-dark);margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--color-gray-500);margin-bottom:1.5rem}.btn-sm[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-primary);color:var(--color-primary)}.btn-outline[_ngcontent-%COMP%]:hover{background:var(--color-primary);color:#fff}@media (max-width: 768px){.dashboard[_ngcontent-%COMP%]{padding:1rem}.two-column[_ngcontent-%COMP%]{grid-template-columns:1fr}}']})}return r})();export{te as StudentDashboardComponent};
