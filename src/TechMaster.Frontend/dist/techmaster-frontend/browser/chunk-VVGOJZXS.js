import{b as k,c as I,d as U}from"./chunk-KRVVGRJQ.js";import{a as F}from"./chunk-ZAODAAZN.js";import{b as W,c as O,d as N,e as z,h as B,k as V,l as L,s as G,u as Y}from"./chunk-HRUO5R4Q.js";import{a as H}from"./chunk-QFQZ7TF5.js";import"./chunk-XAZLOLJU.js";import"./chunk-JLLNXAHD.js";import{a as T,c as A,d as y}from"./chunk-SAC5YDHM.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as _,Ab as s,Bb as p,Cb as u,Jb as R,Mb as l,Na as i,Nb as d,W as m,Wa as c,Y as M,cb as h,db as v,eb as b,ga as S,gb as C,ha as x,lb as o,mb as e,mc as D,nb as g,qb as E,sb as w,tb as P}from"./chunk-Q5RFH5SI.js";function j(a,f){a&1&&(o(0,"span",23),s(1),l(2,"translate"),e()),a&2&&(i(),p(d(2,1,"AUTH.ERRORS.PASSWORD_REQUIREMENTS")))}function q(a,f){a&1&&(o(0,"span",23),s(1),l(2,"translate"),e()),a&2&&(i(),p(d(2,1,"AUTH.ERRORS.PASSWORD_MISMATCH")))}function K(a,f){a&1&&g(0,"span",31)}function Z(a,f){a&1&&(s(0),l(1,"translate")),a&2&&u(" ",d(1,1,"AUTH.RESET_PASSWORD")," ")}function Q(a,f){if(a&1){let n=E();o(0,"div",15)(1,"h1"),s(2),l(3,"translate"),e(),o(4,"p"),s(5),l(6,"translate"),e()(),o(7,"form",16),w("ngSubmit",function(){S(n);let t=P();return x(t.onSubmit())}),o(8,"div",17)(9,"label",18),s(10),l(11,"translate"),e(),o(12,"div",19)(13,"span",20),s(14,"\u{1F512}"),e(),g(15,"input",21),l(16,"translate"),o(17,"button",22),w("click",function(){S(n);let t=P();return x(t.showPassword.set(!t.showPassword()))}),s(18),e()(),_(19,j,3,3,"span",23),e(),o(20,"div",24)(21,"div",25),g(22,"div",26),e(),o(23,"span",27),s(24),e()(),o(25,"div",17)(26,"label",28),s(27),l(28,"translate"),e(),o(29,"div",19)(30,"span",20),s(31,"\u{1F512}"),e(),g(32,"input",29),l(33,"translate"),o(34,"button",22),w("click",function(){S(n);let t=P();return x(t.showConfirmPassword.set(!t.showConfirmPassword()))}),s(35),e()(),_(36,q,3,3,"span",23),e(),o(37,"button",30),_(38,K,1,0,"span",31)(39,Z,2,3),e()()}if(a&2){let n,r,t=P();i(2),p(d(3,24,"AUTH.RESET_PASSWORD")),i(3),p(d(6,26,"AUTH.RESET_PASSWORD_DESC")),i(2),h("formGroup",t.form),i(3),p(d(11,28,"AUTH.NEW_PASSWORD")),i(5),h("type",t.showPassword()?"text":"password")("placeholder",d(16,30,"AUTH.NEW_PASSWORD_PLACEHOLDER")),i(3),u(" ",t.showPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),i(),C((n=t.form.get("password"))!=null&&n.invalid&&((n=t.form.get("password"))!=null&&n.touched)?19:-1),i(3),v("width",t.passwordStrength()+"%"),b("weak",t.passwordStrength()<=33)("medium",t.passwordStrength()>33&&t.passwordStrength()<=66)("strong",t.passwordStrength()>66),i(2),u(" ",t.passwordStrengthText()," "),i(3),p(d(28,32,"AUTH.CONFIRM_PASSWORD")),i(5),h("type",t.showConfirmPassword()?"text":"password")("placeholder",d(33,34,"AUTH.CONFIRM_PASSWORD_PLACEHOLDER")),i(3),u(" ",t.showConfirmPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),i(),C((r=t.form.get("confirmPassword"))!=null&&r.hasError("mismatch")&&((r=t.form.get("confirmPassword"))!=null&&r.touched)?36:-1),i(),h("disabled",t.loading()||t.form.invalid),i(),C(t.loading()?38:39)}}function J(a,f){a&1&&(o(0,"div",7)(1,"div",32),s(2,"\u2705"),e(),o(3,"h2"),s(4),l(5,"translate"),e(),o(6,"p"),s(7),l(8,"translate"),e(),o(9,"a",33),s(10),l(11,"translate"),e()()),a&2&&(i(4),p(d(5,3,"AUTH.PASSWORD_RESET_SUCCESS")),i(3),p(d(8,5,"AUTH.PASSWORD_RESET_SUCCESS_DESC")),i(3),u(" ",d(11,7,"AUTH.LOGIN")," "))}var dt=(()=>{class a{fb=m(G);authService=m(F);router=m(A);route=m(T);toastr=m(H);translate=m(k);loading=c(!1);showPassword=c(!1);showConfirmPassword=c(!1);resetSuccess=c(!1);passwordStrength=c(0);token="";form=this.fb.group({password:["",[O.required,O.minLength(8)]],confirmPassword:["",[O.required]]},{validators:this.passwordMatchValidator});ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token")||"",this.token||(this.toastr.error(this.translate.instant("AUTH.ERRORS.INVALID_RESET_LINK"),this.translate.instant("COMMON.ERROR")),this.router.navigate(["/auth/forgot-password"])),this.form.get("password")?.valueChanges.subscribe(n=>{this.calculatePasswordStrength(n)})}passwordMatchValidator(n){let r=n.get("password"),t=n.get("confirmPassword");return r&&t&&r.value!==t.value?(t.setErrors({mismatch:!0}),{mismatch:!0}):null}calculatePasswordStrength(n){let r=0;n.length>=8&&(r+=25),n.match(/[a-z]/)&&(r+=25),n.match(/[A-Z]/)&&(r+=25),n.match(/[0-9]/)&&(r+=12.5),n.match(/[^a-zA-Z0-9]/)&&(r+=12.5),this.passwordStrength.set(Math.min(100,r))}passwordStrengthText(){let n=this.passwordStrength();return n<=33?this.translate.instant("AUTH.PASSWORD_WEAK"):n<=66?this.translate.instant("AUTH.PASSWORD_MEDIUM"):this.translate.instant("AUTH.PASSWORD_STRONG")}onSubmit(){this.form.invalid||(this.loading.set(!0),setTimeout(()=>{this.loading.set(!1),this.resetSuccess.set(!0),this.toastr.success(this.translate.instant("AUTH.PASSWORD_RESET_SUCCESS"),this.translate.instant("COMMON.SUCCESS"))},1500))}static \u0275fac=function(r){return new(r||a)};static \u0275cmp=M({type:a,selectors:[["app-reset-password"]],standalone:!0,features:[R],decls:24,vars:7,consts:[[1,"reset-password-page"],[1,"form-container"],[1,"form-card"],[1,"logo-section"],["routerLink","/",1,"logo"],[1,"logo-icon"],[1,"logo-text"],[1,"success-message"],[1,"visual-container"],[1,"visual-content"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"visual-text"],[1,"form-header"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","password"],[1,"input-wrapper"],[1,"input-icon"],["id","password","formControlName","password",3,"type","placeholder"],["type","button",1,"toggle-password",3,"click"],[1,"error-text"],[1,"password-strength"],[1,"strength-bar"],[1,"strength-fill"],[1,"strength-text"],["for","confirmPassword"],["id","confirmPassword","formControlName","confirmPassword",3,"type","placeholder"],["type","submit",1,"submit-btn",3,"disabled"],[1,"spinner"],[1,"success-icon"],["routerLink","/auth/login",1,"submit-btn"]],template:function(r,t){r&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"span",5),s(6,"\u{1F393}"),e(),o(7,"span",6),s(8,"TechMaster"),e()()(),_(9,Q,40,36)(10,J,12,9,"div",7),e()(),o(11,"div",8)(12,"div",9)(13,"div",10),g(14,"div",11)(15,"div",12)(16,"div",13),e(),o(17,"div",14)(18,"h2"),s(19),l(20,"translate"),e(),o(21,"p"),s(22),l(23,"translate"),e()()()()()),r&2&&(i(9),C(t.resetSuccess()?10:9),i(10),p(d(20,3,"AUTH.CREATE_NEW_PASSWORD")),i(3),p(d(23,5,"AUTH.STRONG_PASSWORD_TIP")))},dependencies:[D,Y,B,W,N,z,V,L,y,U,I],styles:[".reset-password-page[_ngcontent-%COMP%]{min-height:100vh;display:grid;grid-template-columns:1fr 1fr}.form-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem;background:#fff}.form-card[_ngcontent-%COMP%]{width:100%;max-width:420px}.logo-section[_ngcontent-%COMP%]{margin-bottom:2rem}.logo[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;text-decoration:none}.logo-icon[_ngcontent-%COMP%]{font-size:2rem}.logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000}.form-header[_ngcontent-%COMP%]{margin-bottom:2rem}.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#000;margin-bottom:.5rem}.form-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.95rem}.form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#333}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);font-size:1.1rem}input[_ngcontent-%COMP%]{width:100%;padding:.875rem 3rem;border:2px solid #e0e0e0;border-radius:12px;font-size:1rem;transition:all .3s ease;background:#f8f9fa}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#247090;background:#fff}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:1rem;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;font-size:1.1rem;padding:0}.error-text[_ngcontent-%COMP%]{color:#dc3545;font-size:.85rem;margin-top:.25rem;display:block}.password-strength[_ngcontent-%COMP%]{margin-bottom:1.25rem}.strength-bar[_ngcontent-%COMP%]{height:4px;background:#e0e0e0;border-radius:2px;overflow:hidden;margin-bottom:.5rem}.strength-fill[_ngcontent-%COMP%]{height:100%;transition:all .3s ease}.strength-fill.weak[_ngcontent-%COMP%]{background:#dc3545}.strength-fill.medium[_ngcontent-%COMP%]{background:#ffc107}.strength-fill.strong[_ngcontent-%COMP%]{background:#28a745}.strength-text[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.submit-btn[_ngcontent-%COMP%]{width:100%;padding:1rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border:none;border-radius:12px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:1.5rem;text-decoration:none}.submit-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #2470904d}.submit-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-top-color:#fff;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.success-message[_ngcontent-%COMP%]{text-align:center;padding:2rem 0}.success-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.success-message[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000;margin-bottom:.5rem}.success-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.visual-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,#247090,#1a5570);display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.visual-content[_ngcontent-%COMP%]{position:relative;z-index:2;text-align:center;padding:2rem}.floating-shapes[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden}.shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff1a;border-radius:50%}.shape-1[_ngcontent-%COMP%]{width:300px;height:300px;top:-100px;right:-100px;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.shape-2[_ngcontent-%COMP%]{width:200px;height:200px;bottom:-50px;left:-50px;animation:_ngcontent-%COMP%_float 8s ease-in-out infinite reverse}.shape-3[_ngcontent-%COMP%]{width:150px;height:150px;top:50%;left:50%;transform:translate(-50%,-50%);animation:_ngcontent-%COMP%_pulse 4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:translate(-50%,-50%) scale(1);opacity:.5}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.3}}.visual-text[_ngcontent-%COMP%]{color:#fff}.visual-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:1rem}.visual-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;opacity:.9;max-width:300px;margin:0 auto}@media (max-width: 992px){.reset-password-page[_ngcontent-%COMP%]{grid-template-columns:1fr}.visual-container[_ngcontent-%COMP%]{display:none}}[dir=rtl][_nghost-%COMP%]   .input-icon[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .input-icon[_ngcontent-%COMP%]{left:auto;right:1rem}[dir=rtl][_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .toggle-password[_ngcontent-%COMP%]{right:auto;left:1rem}[dir=rtl][_nghost-%COMP%]   input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{padding:.875rem 3rem}"]})}return a})();export{dt as ResetPasswordComponent};
