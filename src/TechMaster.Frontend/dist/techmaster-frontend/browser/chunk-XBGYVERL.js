import{a as L}from"./chunk-TIQSRMW3.js";import{a as F}from"./chunk-ZAODAAZN.js";import{a as A}from"./chunk-UYI4POZX.js";import"./chunk-JLLNXAHD.js";import{d as z}from"./chunk-SAC5YDHM.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{$a as w,Ab as r,Bb as d,Cb as _,Db as D,Ja as O,Jb as T,Lb as b,Na as i,W as f,Wa as u,Y as P,cb as C,db as M,eb as l,fb as y,gb as S,ia as x,ja as h,jb as k,kb as E,lb as t,mb as n,mc as I,nb as p,sb as m,tb as v}from"./chunk-Q5RFH5SI.js";var N=(s,g)=>g.id,j=s=>["/student/learn",s];function Y(s,g){s&1&&(t(0,"div",12),p(1,"div",15),t(2,"p"),r(3,"Loading..."),n()())}function U(s,g){s&1&&(t(0,"div",13)(1,"div",16),r(2,"\u{1F4DA}"),n(),t(3,"h3"),r(4,"No Courses Yet"),n(),t(5,"p"),r(6,"Start your learning journey by enrolling in a course"),n(),t(7,"a",17),r(8," Start Learning "),n()())}function $(s,g){if(s&1&&(t(0,"div",19)(1,"div",20),p(2,"img",21),t(3,"div",22)(4,"div",23),x(),t(5,"svg",24),p(6,"path",25)(7,"path",26),n(),h(),t(8,"span",27),r(9),n()()()(),t(10,"div",28)(11,"div",29)(12,"span",30),r(13),n(),t(14,"span",31),r(15),n()(),t(16,"h3",32)(17,"a",33),r(18),n()(),t(19,"div",34)(20,"div",35)(21,"span",36),r(22,"\u{1F4D6}"),n(),t(23,"span"),r(24),n()(),t(25,"div",35)(26,"span",36),r(27,"\u{1F550}"),n(),t(28,"span"),r(29),n()()(),t(30,"div",37),p(31,"div",38),n(),t(32,"div",39)(33,"a",40),r(34),t(35,"span",41),r(36,"\u2192"),n()()()()()),s&2){let e=g.$implicit,c=v(2);i(2),C("src",c.mediaService.getCourseThumbnail(e.courseThumbnail),O)("alt",e.courseTitle),i(5),M("stroke-dasharray",e.progress+", 100"),i(2),_("",e.progress,"%"),i(4),d(e.instructorName),i(),y(e.status),i(),_(" ",e.status==="Completed"?"Completed":"In Progress"," "),i(2),C("routerLink",b(18,j,e.courseId)),i(),d(e.courseTitle),i(6),D("",e.completedSessions,"/",e.totalSessions," sessions"),i(5),d(c.formatDate(e.lastAccessed)),i(2),M("width",e.progress,"%"),i(2),C("routerLink",b(20,j,e.courseId)),i(),_(" ",e.progress===100?"Review":"Continue"," ")}}function R(s,g){if(s&1&&(t(0,"div",18),k(1,$,37,22,"div",19,N),n()),s&2){let e=v();l("grid-view",e.viewMode()==="grid")("list-view",e.viewMode()==="list"),i(),E(e.filteredCourses())}}var W=(()=>{class s{enrollmentService=f(L);authService=f(F);mediaService=f(A);loading=u(!0);courses=u([]);activeFilter=u("all");viewMode=u("grid");ngOnInit(){this.loadCourses()}loadCourses(){this.loading.set(!0),this.enrollmentService.getMyEnrollments().subscribe({next:e=>{let c=[];e.isSuccess&&e.data&&(c=Array.isArray(e.data)?e.data:e.data.items||e.data);let a=c.map(o=>({id:o.id,courseId:o.courseId||o.id,courseTitle:o.courseTitle||o.courseName||"Unknown Course",courseSlug:o.courseSlug||"",courseThumbnail:o.courseThumbnail||"assets/images/courses/default.jpg",instructorName:o.instructorName||"Unknown Instructor",progress:o.progressPercentage||o.progress||0,lastAccessed:o.lastAccessedAt?new Date(o.lastAccessedAt):new Date,totalSessions:o.totalSessions||0,completedSessions:o.completedSessions||0,status:o.status||(o.progressPercentage===100?"Completed":"InProgress")}));this.courses.set(a),this.loading.set(!1)},error:()=>{this.loading.set(!1)}})}filteredCourses(){let e=this.activeFilter();return e==="all"?this.courses():e==="completed"?this.courses().filter(c=>c.status==="Completed"):this.courses().filter(c=>c.status==="InProgress")}inProgressCount(){return this.courses().filter(e=>e.status==="InProgress").length}completedCount(){return this.courses().filter(e=>e.status==="Completed").length}formatDate(e){let a=new Date().getTime()-new Date(e).getTime(),o=Math.floor(a/(1e3*60*60*24));return o===0?"Today":o===1?"Yesterday":o<7?`${o} days ago`:new Date(e).toLocaleDateString()}static \u0275fac=function(c){return new(c||s)};static \u0275cmp=P({type:s,selectors:[["app-my-courses"]],standalone:!0,features:[T],decls:36,vars:14,consts:[[1,"my-courses-page"],[1,"page-header"],[1,"header-content"],[1,"header-actions"],["routerLink","/courses",1,"explore-btn"],[1,"btn-icon"],[1,"filters-section"],[1,"filter-tabs"],[1,"filter-tab",3,"click"],[1,"count"],[1,"view-toggle"],[1,"view-btn",3,"click"],[1,"loading-state"],[1,"empty-state"],[1,"courses-container",3,"grid-view","list-view"],[1,"spinner"],[1,"empty-icon"],["routerLink","/courses",1,"cta-btn"],[1,"courses-container"],[1,"course-card"],[1,"course-thumbnail"],[3,"src","alt"],[1,"progress-overlay"],[1,"progress-circle"],["viewBox","0 0 36 36"],["d",`M18 2.0845
                          a 15.9155 15.9155 0 0 1 0 31.831
                          a 15.9155 15.9155 0 0 1 0 -31.831`,1,"bg"],["d",`M18 2.0845
                          a 15.9155 15.9155 0 0 1 0 31.831
                          a 15.9155 15.9155 0 0 1 0 -31.831`,1,"progress"],[1,"percentage"],[1,"course-content"],[1,"course-meta"],[1,"instructor"],[1,"status-badge"],[1,"course-title"],[3,"routerLink"],[1,"course-stats"],[1,"stat"],[1,"stat-icon"],[1,"progress-bar"],[1,"progress-fill"],[1,"course-actions"],[1,"continue-btn",3,"routerLink"],[1,"arrow"]],template:function(c,a){c&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"My Courses"),n(),t(5,"p"),r(6,"Track your learning progress"),n()(),t(7,"div",3)(8,"a",4)(9,"span",5),r(10,"\u{1F50D}"),n(),r(11," Explore Courses "),n()()(),t(12,"div",6)(13,"div",7)(14,"button",8),m("click",function(){return a.activeFilter.set("all")}),r(15," All "),t(16,"span",9),r(17),n()(),t(18,"button",8),m("click",function(){return a.activeFilter.set("in-progress")}),r(19," In Progress "),t(20,"span",9),r(21),n()(),t(22,"button",8),m("click",function(){return a.activeFilter.set("completed")}),r(23," Completed "),t(24,"span",9),r(25),n()()(),t(26,"div",10)(27,"button",11),m("click",function(){return a.viewMode.set("grid")}),t(28,"span"),r(29,"\u25A6"),n()(),t(30,"button",11),m("click",function(){return a.viewMode.set("list")}),t(31,"span"),r(32,"\u2630"),n()()()(),w(33,Y,4,0,"div",12)(34,U,9,0,"div",13)(35,R,3,4,"div",14),n()),c&2&&(i(14),l("active",a.activeFilter()==="all"),i(3),d(a.courses().length),i(),l("active",a.activeFilter()==="in-progress"),i(3),d(a.inProgressCount()),i(),l("active",a.activeFilter()==="completed"),i(3),d(a.completedCount()),i(2),l("active",a.viewMode()==="grid"),i(3),l("active",a.viewMode()==="list"),i(3),S(a.loading()?33:a.filteredCourses().length===0?34:35))},dependencies:[I,z],styles:[".my-courses-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem;gap:1rem}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#000;margin-bottom:.5rem}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666}.explore-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border-radius:10px;text-decoration:none;font-weight:600;transition:all .3s ease}.explore-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #2470904d}.filters-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;gap:1rem;flex-wrap:wrap}.filter-tabs[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.filter-tab[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:#f8f9fa;border:2px solid transparent;border-radius:10px;font-weight:500;color:#666;cursor:pointer;transition:all .3s ease}.filter-tab[_ngcontent-%COMP%]:hover{background:#f0f0f0}.filter-tab.active[_ngcontent-%COMP%]{background:#fff;border-color:#247090;color:#247090}.filter-tab[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#e0e0e0;padding:.125rem .5rem;border-radius:20px;font-size:.85rem}.filter-tab.active[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#247090;color:#fff}.view-toggle[_ngcontent-%COMP%]{display:flex;background:#f8f9fa;border-radius:8px;overflow:hidden}.view-btn[_ngcontent-%COMP%]{padding:.5rem .75rem;background:none;border:none;cursor:pointer;font-size:1.25rem;color:#666;transition:all .3s ease}.view-btn.active[_ngcontent-%COMP%]{background:#247090;color:#fff}.loading-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid #f0f0f0;border-top-color:#247090;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#f8f9fa;border-radius:20px}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000;margin-bottom:.5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.cta-btn[_ngcontent-%COMP%]{display:inline-block;padding:.875rem 2rem;background:linear-gradient(135deg,#247090,#1a5570);color:#fff;border-radius:10px;text-decoration:none;font-weight:600}.courses-container[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.courses-container.grid-view[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(320px,1fr))}.courses-container.list-view[_ngcontent-%COMP%]{grid-template-columns:1fr}.course-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #00000014;transition:all .3s ease}.list-view[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{display:grid;grid-template-columns:280px 1fr}.course-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #0000001f}.course-thumbnail[_ngcontent-%COMP%]{position:relative;aspect-ratio:16/9;overflow:hidden}.list-view[_ngcontent-%COMP%]   .course-thumbnail[_ngcontent-%COMP%]{aspect-ratio:auto;height:100%}.course-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.progress-overlay[_ngcontent-%COMP%]{position:absolute;bottom:.75rem;right:.75rem}.progress-circle[_ngcontent-%COMP%]{width:48px;height:48px;background:#000c;border-radius:50%;display:flex;align-items:center;justify-content:center;position:relative}.progress-circle[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;transform:rotate(-90deg)}.progress-circle[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{fill:none;stroke:#fff3;stroke-width:3}.progress-circle[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{fill:none;stroke:#247090;stroke-width:3;stroke-linecap:round}.progress-circle[_ngcontent-%COMP%]   .percentage[_ngcontent-%COMP%]{font-size:.7rem;font-weight:700;color:#fff;position:relative;z-index:1}.course-content[_ngcontent-%COMP%]{padding:1.25rem}.course-meta[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.instructor[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.status-badge[_ngcontent-%COMP%]{padding:.25rem .75rem;border-radius:20px;font-size:.75rem;font-weight:600}.status-badge.Completed[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.InProgress[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.course-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;margin-bottom:.75rem;line-height:1.4}.course-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.course-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#247090}.course-stats[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;font-size:.85rem;color:#666}.stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.progress-bar[_ngcontent-%COMP%]{height:6px;background:#e0e0e0;border-radius:3px;overflow:hidden;margin-bottom:1rem}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#247090,#3a9bc5);border-radius:3px;transition:width .3s ease}.course-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.continue-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.625rem 1.25rem;background:#000;color:#fff;border-radius:8px;text-decoration:none;font-weight:600;font-size:.9rem;transition:all .3s ease}.continue-btn[_ngcontent-%COMP%]:hover{background:#247090}.continue-btn[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{transition:transform .3s ease}.continue-btn[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{transform:translate(4px)}@media (max-width: 768px){.my-courses-page[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]{flex-direction:column}.list-view[_ngcontent-%COMP%]   .course-card[_ngcontent-%COMP%]{grid-template-columns:1fr}.course-stats[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}}[dir=rtl][_nghost-%COMP%]   .continue-btn[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .continue-btn[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{transform:rotate(180deg)}[dir=rtl][_nghost-%COMP%]   .continue-btn[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .continue-btn[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{transform:rotate(180deg) translate(4px)}[dir=rtl][_nghost-%COMP%]   .progress-overlay[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .progress-overlay[_ngcontent-%COMP%]{right:auto;left:.75rem}"]})}return s})();export{W as MyCoursesComponent};
