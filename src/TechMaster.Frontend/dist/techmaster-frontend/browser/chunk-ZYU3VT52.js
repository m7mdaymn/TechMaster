import{a as M}from"./chunk-SWJOSVLM.js";import{a as _}from"./chunk-QFQZ7TF5.js";import"./chunk-XAZLOLJU.js";import"./chunk-JLLNXAHD.js";import"./chunk-AJDLSE77.js";import"./chunk-L2ZR2CCC.js";import{Ab as n,Bb as c,Cb as l,Jb as b,Mb as h,Na as o,Ob as C,W as m,Wa as d,Y as p,fb as u,ic as E,jb as f,kb as x,lb as t,mb as e,mc as P}from"./chunk-Q5RFH5SI.js";var S=(r,g)=>g.id;function O(r,g){if(r&1&&(t(0,"tr")(1,"td"),n(2),e(),t(3,"td"),n(4),e(),t(5,"td",13),n(6),e(),t(7,"td"),n(8),h(9,"date"),e(),t(10,"td")(11,"span",14),n(12),e()()()),r&2){let i=g.$implicit;o(2),c(i.courseName),o(2),c(i.studentName),o(2),l("",i.amount.toFixed(2)," EGP"),o(2),c(C(9,7,i.date,"mediumDate")),o(3),u(i.status),o(),l(" ",i.status," ")}}var N=(()=>{class r{instructorService=m(M);toastr=m(_);earnings=d([]);totalEarnings=d(0);monthlyEarnings=d(0);pendingPayouts=d(0);loading=d(!0);ngOnInit(){this.loadEarnings()}loadEarnings(){this.loading.set(!0),this.instructorService.getEarnings().subscribe({next:i=>{if(i){let s=(i.recentTransactions||[]).map((a,v)=>({id:a.id||v+1,courseName:a.courseName||a.courseTitle||"Unknown Course",studentName:a.studentName||a.userName||"Unknown Student",amount:a.amount||a.amountPaid||0,date:new Date(a.createdAt||a.date),status:a.status?.toLowerCase()||"completed"}));this.earnings.set(s),this.totalEarnings.set(i.totalEarnings||0),this.monthlyEarnings.set(i.thisMonthEarnings||0),this.pendingPayouts.set(i.pendingPayouts||0)}this.loading.set(!1)},error:()=>{this.toastr.error("Failed to load earnings"),this.loading.set(!1)}})}static \u0275fac=function(s){return new(s||r)};static \u0275cmp=p({type:r,selectors:[["app-instructor-earnings"]],standalone:!0,features:[b],decls:53,vars:3,consts:[[1,"earnings-page"],[1,"page-header"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","green"],[1,"material-icons"],[1,"stat-info"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","blue"],[1,"stat-icon","orange"],[1,"earnings-table-container"],[1,"earnings-table"],[1,"amount"],[1,"status-badge"]],template:function(s,a){s&1&&(t(0,"div",0)(1,"div",1)(2,"h1"),n(3,"Earnings"),e(),t(4,"p"),n(5,"Track your revenue and payment history"),e()(),t(6,"div",2)(7,"div",3)(8,"div",4)(9,"span",5),n(10,"account_balance_wallet"),e()(),t(11,"div",6)(12,"span",7),n(13),e(),t(14,"span",8),n(15,"Total Earnings"),e()()(),t(16,"div",3)(17,"div",9)(18,"span",5),n(19,"trending_up"),e()(),t(20,"div",6)(21,"span",7),n(22),e(),t(23,"span",8),n(24,"This Month"),e()()(),t(25,"div",3)(26,"div",10)(27,"span",5),n(28,"hourglass_empty"),e()(),t(29,"div",6)(30,"span",7),n(31),e(),t(32,"span",8),n(33,"Pending Payout"),e()()()(),t(34,"div",11)(35,"h2"),n(36,"Recent Transactions"),e(),t(37,"table",12)(38,"thead")(39,"tr")(40,"th"),n(41,"Course"),e(),t(42,"th"),n(43,"Student"),e(),t(44,"th"),n(45,"Amount"),e(),t(46,"th"),n(47,"Date"),e(),t(48,"th"),n(49,"Status"),e()()(),t(50,"tbody"),f(51,O,13,10,"tr",null,S),e()()()()),s&2&&(o(13),l("$",a.totalEarnings().toLocaleString(),""),o(9),l("$",a.monthlyEarnings().toLocaleString(),""),o(9),l("$",a.pendingPayouts().toLocaleString(),""),o(20),x(a.earnings()))},dependencies:[P,E],styles:[".earnings-page[_ngcontent-%COMP%]{max-width:1400px}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a1a2e;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-bottom:32px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;display:flex;align-items:center;gap:16px;box-shadow:0 2px 10px #0000000d}.stat-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-icon.green[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.stat-icon.blue[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.stat-icon.orange[_ngcontent-%COMP%]{background:#f973161a;color:#f97316}.stat-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-value[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#1a1a2e}.stat-label[_ngcontent-%COMP%]{color:#666;font-size:.9rem}.earnings-table-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 2px 10px #0000000d}.earnings-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin:0 0 20px;color:#1a1a2e}.earnings-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.earnings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .earnings-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px;text-align:left;border-bottom:1px solid #eee}.earnings-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;color:#666;font-size:.85rem;text-transform:uppercase}.amount[_ngcontent-%COMP%]{font-weight:600;color:#10b981}.status-badge[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;font-size:.8rem;font-weight:500;text-transform:capitalize}.status-badge.completed[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.status-badge.pending[_ngcontent-%COMP%]{background:#f973161a;color:#f97316}.status-badge.processing[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}"]})}return r})();export{N as InstructorEarningsComponent};
